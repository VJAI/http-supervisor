{"version":3,"sources":["webpack://httpSupervisor/webpack/universalModuleDefinition","webpack://httpSupervisor/webpack/bootstrap","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/createClass.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/typeof.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/inherits.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/construct.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://httpSupervisor/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://httpSupervisor/./src/console-snapshot.js","webpack://httpSupervisor/./src/polyfill.js","webpack://httpSupervisor/./src/util.js","webpack://httpSupervisor/./src/constants.js","webpack://httpSupervisor/./src/http-request-info.js","webpack://httpSupervisor/./src/collection.js","webpack://httpSupervisor/./src/event.emitter.js","webpack://httpSupervisor/./src/http-supervisor.js","webpack://httpSupervisor/./src/http-supervisor-widget.js","webpack://httpSupervisor/./src/console-reporter.js","webpack://httpSupervisor/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","configurable","writable","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arr","self","ReferenceError","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","protoProps","staticProps","_typeof","iterator","constructor","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","len","arr2","Array","arrayLikeToArray","minLen","toString","slice","from","test","subClass","superClass","assertThisInitialized","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Map","undefined","has","set","Wrapper","arguments","this","arrayWithHoles","iterableToArrayLimit","nonIterableRest","isArray","iter","fn","Function","indexOf","isNativeReflectConstruct","_construct","Parent","args","Reflect","a","push","apply","sham","Proxy","Boolean","valueOf","e","_arr","_n","_d","_e","_s","_i","next","done","err","console","getBox","width","height","string","style","Math","floor","Profile","ctx","canvas","stack","startTime","Date","getTime","collectFPS","frames","addState","returnState","that","addFunctionCall","tick","requestAnimationFrame","end","duration","FPS","match","replace","_stateKeys","state","outputToConsole","prevState","group","scope","callCount","stateChanges","forEach","item","groupCollapsed","log","join","groupEnd","screenshot","image","url","scale","callback","img","Image","onload","dim","src","background","toDataURL","snapshot","profile","getContext","groupBy","reduce","rv","x","hasGroup","newValue","groupKey","groupName","keys","find","k","JSON","stringify","formatBytes","bytes","decimals","dm","parseFloat","pow","toFixed","convertBytes","endsWith","kb","mb","gb","substr","formatTime","time","convertTime","byteSize","str","Blob","size","idGenerator","seed","isAbsolute","loadScript","onerror","script","document","createElement","addEventListener","head","appendChild","poolColors","pool","random","matchCriteria","criteria","results","field","operator","v","startsWith","toLowerCase","filter","isJsonResponse","contentType","safeParse","json","parse","Messages","ACTIVE","SLEEP","LOG_START","LOG_END","NO_REQUEST","NO_REQUESTS","METRICS_SUMMARY","TOTAL_REQUESTS","FAILED_REQUESTS","REQUESTS_EXCEEDED_QUOTA","REQUESTS_INFO","REQUEST_INFO","MAX_PAYLOAD_SIZE","MAX_RESPONSE_SIZE","MAX_DURATION","TOTAL_PAYLOAD_SIZE","TOTAL_RESPONSE_SIZE","GET","POST","PUT","DELETE","ID","URL","PATH","METHOD","PAYLOAD","PAYLOAD_SIZE","DURATION","RESPONSE","RESPONSE_SIZE","RESPONSE_STATUS","IS_ERROR","ERROR_DESC","EXCEEDS_QUOTA","INITIATOR_TYPE","PAYLOAD_SIZE_BY_PERFORMANCE","CHART_NOT_FOUND","Colors","SupervisorStatus","SupervisorEvents","FAKE","InitiatorType","STORAGE_KEY","HttpRequestInfo","id","method","payload","performance","now","path","location","origin","pathname","responseStatus","error","response","Collection","items","groupedBy","_items","_name","_originalItems","_groupedBy","_groups","hasItems","hasGroups","_groupArgs","_sortArgs","count","_childrenGroupedBy","shift","sortBy","_resetItems","sort","r1","r2","dir","v1","v2","removeSort","_query","search","reset","EventEmitter","eventName","handler","_eventsHandlersMap","Set","add","handlers","remove","HttpSupervisor","widget","reporter","maxPayloadSize","maxResponseSize","maxDuration","fetch","XMLHttpRequest","open","send","setRequestHeader","_widget","_reporter","_eventEmitter","_status","_requests","_domains","_updateStorage","_renderUI","show","hide","_traceEachRequest","_alertOnError","_alertOnExceedQuota","_quota","_groupBy","_sortBy","_usePerformance","_monkeyPatchFetch","_useVisualization","_keyboardEvents","_callsCount","config","loadConfigFromStore","localStorage","getItem","domains","renderUI","traceEachRequest","alertOnError","alertOnExceedQuota","quota","usePerformance","monkeyPatchFetch","useVisualization","keyboardEvents","watches","_watches","on","supervisor","request","report","_isExceededQuota","values","w","_matchWatch","_render","_monkeyPatch","start","initReporterAndFireEvent","init","_triggerEvent","printStatusMessage","clear","collection","totalRequests","getRequestsCount","getRequestsByType","postRequestsCount","putRequestsCount","deleteRequestsCount","failedRequests","getFailedRequests","requestsExceededQuota","getRequestsExceededQuota","totalPayloadSize","getTotalPayloadSize","totalResponseSize","getTotalResponseSize","off","clearStore","stop","_undoMonkeyPatch","destroy","requests","status","last","first","groupArgs","sortArgs","groupRequests","query","q","part","searchRequests","b","payloadSize","responseSize","max","map","getRequestsByUrl","getRequestsOfStatus","getLastFailedRequest","getLastRequest","getMaxSizeRequest","getMaxDurationRequest","sortRequests","groupSortRequests","searchRequestsContainsUrl","searchRequestsOfSizeGreaterThan","searchGroupSortRequests","labels","data","visualize","type","title","format","y","csvString","errorDescription","exceedsQuota","encodeURIComponent","exportLink","querySelector","setAttribute","body","click","alert","watchId","_watchId","removeItem","render","_open","_send","_setRequestHeader","_fetch","_nativeFetch","_nativeOpen","_nativeSend","_nativeSetRequestHeader","busy","_id","options","requestInfo","initiatorType","Promise","resolve","reject","_isPerformanceSupported","_appendRequestIdToUrl","then","clone","headers","_fillParametersAndFireEvents","parameters","xhr","toUpperCase","_createUrl","_increment","_createRequest","onreadystatechange","readyState","DONE","_decrement","getResponseHeader","requestHeaders","xhrOrResponse","performanceEntry","urlName","getEntriesByType","timeStart","timeEnd","responseEnd","payloadByPerformance","transferSize","round","httpRequestInfo","urlObj","searchParams","append","triggerEvent","setItem","entries","argsArray","template","innerHTML","HttpSupervisorWidget","_onStart","_onStop","_updateTotalRequestsCount","_updateLabelsCount","httpSupervisor","_httpSupervisor","_el","setState","subscribe","print","ctrl","checked","parseInt","displayResponseSizeChart","displayResponseTimeChart","displaySizeTimeChart","displaySizeDistribution","split","trim","display","cleanup","updateCalls","onGoingCallsCount","logIsNotEmpty","logIsEmpty","HtmlSupervisorWidgetElement","_handleKeyPress","shadowRoot","attachShadow","content","cloneNode","_popover","children","querySelectorAll","_startButton","_stopButton","_clearButton","_printButton","_exportButton","_callsCountLabel","_moreButton","_traceEachRequestCheckbox","_alertOnErrorCheckbox","_alertOnQuotaExceedCheckbox","_usePerformanceAPICheckbox","_maxPayloadSizeTextbox","_maxResponseSizeTextbox","_maxDurationTextbox","_responseSizeChartButton","_responseTimeChartButton","_responseSizeTimeChartButton","_responseSizeDistributionChartButton","_domainsTextbox","_keyboardEventsCheckbox","_eventsAndControls","export","traceEachRequestChange","alertOnErrorChange","alertOnExceedQuotaChange","usePerformanceAPIChange","maxPayloadSizeChange","maxResponseSizeChange","maxDurationChange","responseSizeChart","responseTimeChart","responseSizeTimeChart","responseSizeDistributionChart","domainsChange","keyboardEventsChange","_expandButton","_collapseButton","_collapisbleFieldSet","_popoverClose","_overlay","_isPopoverActive","_hidePopover","_showPopover","classList","preventDefault","stopPropagation","_listenToKeyPressEvent","_unlistenToKeyPressEvent","evt","evtName","HTMLButtonElement","innerText","disabled","contains","el","removeEventListener","event","ctrlKey","HTMLElement","customElements","ConsoleReporter","fieldsConfig","_fieldsToDisplay","Chart","defaults","font","_chartFontSize","_canvasEl","_chartWidth","_chartHeight","message","statsOrObj","printTitle","_reportStats","_reportObject","chartOptions","myChart","datasets","label","backgroundColor","borderColor","borderWidth","responsive","scales","beginAtZero","ticks","aspectRatio","plugins","legend","tooltip","elements","point","_colorize","context","min","datasetIndex","radius","chart","abs","raw","position","text","setTimeout","color","bold","otherStyles","styles","bgColor","_getTitleWithSpaces","msgs","index","array","displayFields","table","fill","printKeyValueMany","printKeyValue","requestOrCollection","groups","groupStart","displayObj","opaque","_channelValue"],"mappings":"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","file":"http.supervisor-2.0.3.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"httpSupervisor\"] = factory();\n\telse\n\t\troot[\"httpSupervisor\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeFunction = require(\"./isNativeFunction.js\");\n\nvar construct = require(\"./construct.js\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","// https://github.com/adriancooney/console.snapshot\n/**\n * An actual useful fork of dunxrion/console.image\n * Created by Adrian Cooney\n * http://dunxrion.github.io\n */\n\n(function(console) {\n  \"use strict\";\n\n  /**\n   * Since the console.log doesn't respond to the `display` style,\n   * setting a width and height has no effect. In fact, the only styles\n   * I've found it responds to is font-size, background-image and color.\n   * To combat the image repeating, we have to get a create a font bounding\n   * box so to speak with the unicode box characters. EDIT: See Readme.md\n   *\n   * @param  {int} width  The height of the box\n   * @param  {int} height The width of the box\n   * @return {object}     {string, css}\n   */\n  function getBox(width, height) {\n    return {\n      string: \"+\",\n      style: \"font-size: 1px; padding: \" + Math.floor(height/2) + \"px \" + Math.floor(width/2) + \"px; line-height: \" + height + \"px;\"\n    }\n  }\n\n  /**\n   * Profile class for a canvas\n   * @param {CanvasRenderingContext2D} ctx    The context to profile\n   * @param {HTMLCanvasElement} canvas The canvas element\n   */\n  var Profile = function(ctx, canvas) {\n    this.ctx = ctx;\n    this.canvas = canvas;\n    this.stack = [];\n    this.startTime = (new Date()).getTime();\n    this.collectFPS = true;\n    this.frames = 0;\n\n    //Add the initial state\n    this.addState(this.returnState(ctx));\n\n    //Add a sort of man in the middle/proxy for all the\n    //context render functions and tell the profiler\n    //when a function call happens. We send along the\n    //function name, the arguments, and the context state\n    var that = this;\n    for(var fn in ctx) { //Move the native data to a namespace\n      if(typeof ctx[fn] == \"function\") {\n        ctx[\"_CF_\" + fn] = ctx[fn];\n        (function(fn) { //Create the closure\n          ctx[fn] = function() {\n            that.addState(that.returnState(ctx));\n            that.addFunctionCall(fn, Array.prototype.slice.call(arguments));\n            ctx[\"_CF_\" + fn].apply(ctx, arguments);\n          }\n        })(fn);\n      }\n    }\n\n    //Start collecting the frames\n    (function tick() {\n      if(that.collectFPS) that.frames++, requestAnimationFrame(tick);\n    })();\n  };\n\n  /**\n   * Stop profiling\n   * @return {null}\n   */\n  Profile.prototype.end = function() {\n    this.collectFPS = false;\n    this.duration = ((new Date()).getTime()) - this.startTime;\n    this.FPS = (this.frames * 1000)/this.duration; //TODO: fix this formula\n\n    //Remove the man in the middle\n    var ctx = this.ctx;\n    for(var fn in ctx) {\n      if(fn.match(/_CF_/)) {\n        fn = fn.replace(\"_CF_\", \"\");\n        ctx[fn] = ctx[\"_CF_\" + fn];\n        delete ctx[\"_CF_\" + fn]; //And remove the cache\n      }\n    }\n  }\n\n  /**\n   * Return the useful data from the context\n   * to represent the state of the context\n   * Only adds the properties and not functions\n   * @param  {CanvasRenderContext2D} ctx The context to make a state from\n   * @return {Object}     State object\n   */\n  Profile.prototype.returnState = function(ctx) {\n    var obj = {};\n    if(!this._stateKeys) {\n      this._stateKeys = [];\n      for(var key in ctx) {\n        if(typeof ctx[key] == \"string\" || typeof ctx[key] == \"number\") this._stateKeys.push(key), obj[key] = ctx[key];\n      }\n    } else {\n      for (var i = this._stateKeys.length - 1; i >= 0; i--) {\n        var key = this._stateKeys[i];\n        obj[key] = ctx[key];\n      };\n    }\n\n    return obj;\n  };\n\n  /**\n   * Add a state object to the current profile\n   * @param {StateObject} state See Profile#returnState\n   */\n  Profile.prototype.addState = function(state) {\n    this.stack.push([\"state\", state]);\n  };\n\n  /**\n   * Add a function call to the current profile\n   * @param {string} fn   The function name\n   * @param {array}   args The array of arguments passed to the function\n   */\n  Profile.prototype.addFunctionCall = function(fn, args) {\n    this.stack.push([\"functionCall\", fn, args]);\n  };\n\n  /**\n   * Output the profile to the console in a nice, readable way.\n   * @return {null}\n   */\n  Profile.prototype.outputToConsole = function() {\n    var prevState = [], group = 1, scope = 1;\n    var callCount = 0, stateChanges = 0;\n\n    //console.group is a synchronous so this led to some\n    //messy state saving and changing but it works in the end\n    console.group(\"Canvas snapshot\");\n    //console.log(\"%cFPS: %c\" + this.FPS, \"color: green\", \"color: #000\"); Fix the formula!\n\n    console.group(\"Rendering\");\n    this.stack.forEach(function(item, i) {\n      switch(item[0]) {\n        case \"functionCall\":\n          callCount++;\n\n          if(item[1] == \"save\") console.groupCollapsed(\"Saved Draw State #\" + group), group++, scope++;\n          console.log(\"%c\" + item[1] + \"%c(\" + item[2].join(\", \") + \")\", \"color: blue; font-style: italic\", \"color: #000\");\n          if(item[1] == \"restore\") console.groupEnd(), scope--;\n          break;\n\n        case \"state\":\n          var state = item[1];\n\n          if(!prevState.length) {\n            console.groupCollapsed(\"Initial state\");\n            for(var key in state) console.log(key + \" = \" + state[key]);\n            console.groupEnd();\n          } else {\n            for(var key in state)\n              if(prevState[scope] && prevState[scope][key] !== state[key])\n                console.log(\"%c\" + key + \" %c= \" + state[key], \"color: purple; font-style: italic\", \"color: #000\"), stateChanges++;\n          }\n\n          prevState[scope] = state;\n          break;\n      }\n    });\n    console.groupEnd();\n\n    //Add the screenshot\n    console.groupCollapsed(\"Screenshot\");\n    console.screenshot(this.canvas, function() {\n      console.groupEnd(); //End the screenshot group\n\n      console.group(\"Statistics\"); //Stats group\n      console.log(\"Function call count: \", callCount);\n      console.log(\"State change count: \", stateChanges);\n      console.groupEnd(); //End stats group\n\n      console.groupEnd(); //End the major group\n    });\n  };\n\n  /**\n   * Display an image in the console.\n   * @param  {string} url The url of the image.\n   * @param  {int} scale Scale factor on the image\n   * @return {null}\n   */\n  console.image = function(url, scale, callback) {\n    if(typeof scale == \"function\") callback = scale, scale = 1;\n    if(!scale) scale = 1;\n\n    var img = new Image();\n\n    img.onload = function() {\n      var dim = getBox(this.width * scale, this.height * scale);\n      console.log(\"%c\" + dim.string, dim.style + \"background-image: url(\" + url + \"); background-size: \" + (this.width * scale) + \"px \" + (this.height * scale) + \"px; color: transparent;\");\n      if(callback) callback();\n    };\n\n    img.src = url;\n    img.style.background = \"url(\" + url + \")\"; //Preload it again..\n  };\n\n  /**\n   * Snapshot a canvas context and output it to the console.\n   * @param  {HTMLCanvasElement} canvas The canvas element\n   * @return {null}\n   */\n  console.screenshot = function(canvas, scale) {\n    var url = canvas.toDataURL(),\n      width = canvas.width,\n      height = canvas.height,\n      scale = scale || 1,\n      dim = getBox(width * scale, height * scale);\n\n    console.log(\"%c\" + dim.string, dim.style + \"background-image: url(\" + url + \"); background-size: \" + (width * scale) + \"px \" + (height * scale) + \"px; color: transparent;background-repeat:no;\");\n  };\n\n  /**\n   * Snapshot/Profile a canvas element\n   * @param  {HTMLCanvasElement} canvas The canvas element to profile\n   * @return {null}\n   */\n  console.snapshot = function(canvas) {\n    //Start the profiling.\n    var profile = new Profile(canvas.getContext(\"2d\"), canvas);\n    requestAnimationFrame(function() {\n      profile.end();\n      profile.outputToConsole();\n    });\n  }\n})(console);\n","/**\n * Array polyfills.\n */\nArray.prototype.groupBy = function (key) {\n  return this.reduce(function (rv, x) {\n    const groupName = x[key];\n    let hasGroup, newValue, groupKey;\n\n    if (typeof groupName !== 'object') {\n      groupKey = groupName;\n      hasGroup = rv.has(groupName);\n    } else {\n      groupKey = [...rv.keys()].find(k => JSON.stringify(k) === JSON.stringify(groupName));\n      hasGroup = !!groupKey;\n      groupKey = groupKey || groupName;\n    }\n\n    if (hasGroup) {\n      newValue = [...rv.get(groupKey), x];\n    } else {\n      newValue = [x];\n    }\n\n    rv.set(groupKey, newValue);\n    return rv;\n  }, new Map());\n};\n","/**\n * Return bytes in human readable format.\n */\nexport function formatBytes(bytes, decimals) {\n  if (bytes === 0) {\n    return '0 bytes';\n  }\n\n  const k = 1024,\n    dm = decimals || 2,\n    sizes = ['bytes', 'kb', 'mb', 'gb'],\n    i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n}\n\n/**\n * Converts human-readable payload size to bytes.\n */\nexport function convertBytes(bytes) {\n  if (!bytes) {\n    return 0;\n  }\n\n  if (bytes.endsWith('bytes')) {\n    return parseFloat(bytes);\n  }\n\n  const map = {\n    kb: 1024,\n    mb: 1024 * 1024,\n    gb: 1024 * 1024 * 1024\n  };\n\n  return parseFloat(bytes) * map[bytes.substr(bytes.length - 2, 2)];\n}\n\n/**\n * Formats time in seconds.\n */\nexport function formatTime(time) {\n  return time < 1000 ? `${time} ms` : `${time / 1000} s`;\n}\n\n/**\n * Converts human-readable time to milliseconds.\n */\nexport function convertTime(time) {\n  if (!time) {\n    return 0;\n  }\n\n  return time.endsWith('ms') ? parseFloat(time) : parseFloat(time) * 1000;\n}\n\n/**\n * Returns the byte size of the passed string.\n */\nexport function byteSize(str) {\n  return str ? new Blob([str]).size : 0;\n}\n\n/**\n * Id generator function.\n * @param seed\n * @returns {function(): number}\n */\nexport function idGenerator(seed = 0) {\n  return function () {\n    return seed++;\n  }\n}\n\n/**\n * Returns `true` if url is absolute.\n * @param url\n * @returns {boolean}\n */\nexport function isAbsolute(url) {\n  const reg = /^https?:\\/\\/|^\\/\\//i;\n  return reg.test(url);\n}\n\n/**\n * Load script dynamically in a web page.\n * @param src\n * @param onload\n */\nexport function loadScript(src, onload, onerror) {\n  const script = document.createElement('script');\n  script.src = src;\n  onload && script.addEventListener('load', onload);\n  onerror && script.addEventListener('error', onerror);\n  document.head.appendChild(script);\n}\n\n/**\n * Returns random color.\n * @return {string}\n */\nexport function dynamicColors() {\n  const r = Math.floor(Math.random() * 255);\n  const g = Math.floor(Math.random() * 255);\n  const b = Math.floor(Math.random() * 255);\n  return \"rgba(\" + r + \",\" + g + \",\" + b + \", 0.5)\";\n}\n\n/**\n * Create array of random color.\n * @param a\n * @return {Array}\n */\nexport function poolColors(a) {\n  const pool = [];\n\n  for(let i = 0; i < a; i++) {\n    pool.push(dynamicColors());\n  }\n\n  return pool;\n}\n\n/**\n * Returns `true` if the object matches the passed criteria.\n * @param criteria\n * @param object\n * @return {boolean}\n */\nexport function matchCriteria(criteria, object) {\n  const results = [];\n\n  criteria.forEach(({ field, operator, value }) => {\n    const v = object[field];\n\n    if (operator === '=') {\n      results.push(v === value);\n    } else if (operator === '!=') {\n      results.push(v !== value);\n    } else if (operator === '<') {\n      results.push(v < value);\n    } else if (operator === '>') {\n      results.push(v > value);\n    } else if (operator === '<=') {\n      results.push(v <= value);\n    } else if (operator === '>=') {\n      results.push(v >= value);\n    } else if (operator === '~') {\n      results.push(typeof object[field] === 'string' && v.startsWith(value));\n    } else if (operator === '^') {\n      results.push(typeof object[field] === 'string' && v.endsWith(value));\n    } else if (operator === 'contains') {\n      results.push(typeof object[field] === 'string' && v.toLowerCase().indexOf(value.toLowerCase()) > -1);\n    } else if (operator === '!contains') {\n      results.push(typeof object[field] === 'string' && v.toLowerCase().indexOf(value.toLowerCase()) === -1);\n    }\n  });\n\n  return results.filter(r => !r).length === 0;\n}\n\n/**\n * Returns `true` if the content type is json.\n * @param contentType\n * @return {boolean}\n */\nexport function isJsonResponse(contentType) {\n    return contentType.toLowerCase().startsWith('application/json');\n}\n\n/**\n * Safely parses string to JSON.\n * @param string\n * @return {any}\n */\nexport function safeParse(string) {\n  let json;\n  try {\n    json = JSON.parse(string);\n  } catch {\n    json = string;\n  }\n  return json;\n}\n","const HTTP_SUPERVISOR_EMOJI = '👮';\n\n/**\n * Collection of messages used by supervisor.\n */\nexport const Messages = {\n  ACTIVE: `‍${HTTP_SUPERVISOR_EMOJI} HTTP SUPERVISOR STARTED`,\n  SLEEP: `${HTTP_SUPERVISOR_EMOJI}‍ HTTP SUPERVISOR STOPPED`,\n  LOG_START: `------------------------ LOG STARTS ------------------------`,\n  LOG_END: `------------------------- LOG ENDS -------------------------`,\n  NO_REQUEST: `No Request Found`,\n  NO_REQUESTS: `No Requests Found`,\n  METRICS_SUMMARY: 'Metrics Summary',\n  TOTAL_REQUESTS: 'Total Requests',\n  FAILED_REQUESTS: 'Failed Requests',\n  REQUESTS_EXCEEDED_QUOTA: 'Requests Exceeded Quota',\n  REQUESTS_INFO: 'Requests Details',\n  REQUEST_INFO: 'Request Details',\n  MAX_PAYLOAD_SIZE: 'Max Payload Size',\n  MAX_RESPONSE_SIZE: 'Max Response Size',\n  MAX_DURATION: 'Max Duration',\n  TOTAL_PAYLOAD_SIZE: 'Total Payload Size',\n  TOTAL_RESPONSE_SIZE: 'Total Response Size',\n  GET: 'GET',\n  POST: 'POST',\n  PUT: 'PUT',\n  DELETE: 'DELETE',\n  ID: 'Id',\n  URL: 'Url',\n  PATH: 'Path',\n  METHOD: 'Type',\n  PAYLOAD: 'Payload',\n  PAYLOAD_SIZE: 'Payload Size',\n  DURATION: 'Duration',\n  RESPONSE: 'Response',\n  RESPONSE_SIZE: 'Response Size',\n  RESPONSE_STATUS: 'Status',\n  IS_ERROR: 'Is Error?',\n  ERROR_DESC: 'Error Description',\n  EXCEEDS_QUOTA: 'Exceeds Quota?',\n  INITIATOR_TYPE: 'Initiator Type',\n  PAYLOAD_SIZE_BY_PERFORMANCE: 'Accurate Payload Size',\n  CHART_NOT_FOUND: 'Chart.js library not found'\n};\n\n/**\n * The different color codes by supervisor.\n */\nexport const Colors = {\n  BRAND: '#f54284',\n  SUCCESS: '#09b809',\n  ERROR: '#e62e5c',\n  INFO: '#4d4b46',\n  WARN: '#e6b225',\n  WHITE: '#fff',\n  BLACK: '#000',\n  GRAY: '#aaa',\n  MEDIUM_GRAY: '#ccc'\n};\n\n/**\n * The different statuses of supervisor.\n */\nexport const SupervisorStatus = {\n  Busy: 'busy',\n  Idle: 'idle',\n  NotReady: 'not-ready',\n  Retired: 'retired'\n};\n\n/**\n * Different events fired by supervisor.\n */\nexport const SupervisorEvents = {\n  READY: 'ready',\n  START: 'start',\n  STOP: 'stop',\n  CLEAR: 'clear',\n  RETIRE: 'retire',\n  REQUEST_START: 'request-start',\n  REQUEST_END: 'request-end',\n  REQUEST_ERROR: 'request-error',\n  EXCEEDS_QUOTA: 'exceeds-quota'\n};\n\n/**\n * Proxy object that allows to call any method in an object that not even exists.\n */\nexport const FAKE = new Proxy({}, { get: function () { return function () { }; } });\n\nexport const XHR_METADATA_KEY = '__supervisor__';\n\nexport const SUPERVISOR_QUERY_KEY = 'hs_rid';\n\nexport const InitiatorType = {\n  XHR: 'xhr',\n  FETCH: 'fetch'\n};\n\nexport const CHARTJS_LIB_PATH = 'https://cdn.jsdelivr.net/npm/chart.js';\n\nexport const STORAGE_KEY = 'http-supervisor';\n","import { isAbsolute }    from './util';\nimport { InitiatorType } from './constants';\n\n/**\n * Holds the http request information.\n */\nexport default class HttpRequestInfo {\n\n  /**\n   * The request no.\n   * @type {number}\n   */\n  id = -1;\n\n  /**\n   * The full url of the request.\n   * @type {string}\n   */\n  url = null;\n\n  /**\n   * The path in the url excluding domain.\n   * @type {string}\n   */\n  path = null;\n\n  /**\n   * The request type (GET, POST etc.)\n   * @type {string}\n   */\n  method = 'GET';\n\n  /**\n   * The request payload.\n   * @type {any}\n   */\n  payload = null;\n\n  /**\n   * The request payload size.\n   * @type {number}\n   */\n  payloadSize = 0;\n\n  /**\n   * Request Headers.\n   */\n  requestHeaders = new Map();\n\n  /**\n   * The request start time.\n   * @type {number}\n   */\n  timeStart = performance.now();\n\n  /**\n   * The request end time.\n   * @type {number}\n   */\n  timeEnd = performance.now();\n\n  /**\n   * The request duration.\n   * @type {number}\n   */\n  duration = 0;\n\n  /**\n   * The response data.\n   * @type {any}\n   */\n  response = null;\n\n  /**\n   * The response status.\n   * @type {number}\n   */\n  responseStatus = null;\n\n  /**\n   * The response size.\n   * @type {number}\n   */\n  responseSize = 0;\n\n  /**\n   * Response headers.\n   */\n  responseHeaders = new Map();\n\n  /**\n   * True if the request error-ed out.\n   * @type {boolean}\n   */\n  get error() {\n    return this.responseStatus >= 400;\n  }\n\n  /**\n   * The error description.\n   * @type {string}\n   */\n  get errorDescription() {\n    return this.error ? this.response : null;\n  }\n\n  /**\n   * True if the request exceeds quota.\n   * @type {boolean}\n   */\n  exceedsQuota = false;\n\n  /**\n   * Whether the ajax call is triggered by xhr or fetch.\n   * @type {string}\n   */\n  initiatorType = InitiatorType.XHR;\n\n  /**\n   * True if the payload size is determined using performance api.\n   * @type {boolean}\n   */\n  payloadByPerformance = true;\n\n  /**\n   * Constructor.\n   */\n  constructor(id, url, method, payload) {\n    this.id = id;\n    this.url = url;\n    this.path = (isAbsolute(url) ? new URL(url) : new URL(url, document.location.origin)).pathname;\n    this.method = method;\n    this.payload = payload;\n  }\n}\n","import { matchCriteria } from './util';\n\n/**\n * Represents a collection of records that can be group-able, sortable and searchable.\n */\nexport default class Collection {\n\n  /**\n   * The name of the collection.\n   * @type {*}\n   * @private\n   */\n  _name = null;\n\n  /**\n   * The items belongs to the collection.\n   * @type {Array}\n   * @private\n   */\n  _items = [];\n\n  /**\n   * Original items passed in ctor.\n   * @type {Array}\n   * @private\n   */\n  _originalItems = [];\n\n  /**\n   * Array of sub-groups.\n   * @type {Array}\n   * @private\n   */\n  _groups = [];\n\n  /**\n   * The group arguments.\n   * @type {Array}\n   * @private\n   */\n  _groupArgs = [];\n\n  /**\n   * The field by which the collection's items are grouped by.\n   * @type {string}\n   * @private\n   */\n  _groupedBy = null;\n\n  /**\n   * The field by which the collection's groups are grouped by.\n   * @type {null}\n   * @private\n   */\n  _childrenGroupedBy = null;\n\n  /**\n   * The sort arguments.\n   * @type {Array}\n   * @private\n   */\n  _sortArgs = [];\n\n  /**\n   * Search query;\n   * @type {*}\n   * @private\n   */\n  _query = null;\n\n  /**\n   * Returns the name of the collection.\n   * @returns {*}\n   */\n  get name() {\n    return this._name;\n  }\n\n  /**\n   * Returns true if there are items.\n   * @returns {boolean}\n   */\n  get hasItems() {\n    return !!(this._items && this._items.length);\n  }\n\n  /**\n   * Returns true if there are sub groups.\n   * @returns {boolean}\n   */\n  get hasGroups() {\n    return !!(this._groups && this._groups.length);\n  }\n\n  /**\n   * Returns the items.\n   * @returns {Array<*>}\n   */\n  get items() {\n    return this.hasItems ? [...this._items] : null;\n  }\n\n  /**\n   * Returns the sub-groups.\n   * @returns {Array<Collection>}\n   */\n  get groups() {\n    return this.hasGroups ? [...this._groups] : null;\n  }\n\n  /**\n   * Returns the group arguments.\n   * @returns {Array}\n   */\n  get groupArgs() {\n    return this._groupArgs;\n  }\n\n  /**\n   * Returns the field by which the collection's items are grouped by.\n   * @returns {string}\n   */\n  get groupedBy() {\n    return this._groupedBy;\n  }\n\n  /**\n   * Returns the sort arguments.\n   * @returns {Array}\n   */\n  get sortArgs() {\n    return this._sortArgs;\n  }\n\n  /**\n   * Returns the items count.\n   * @returns {number}\n   */\n  get count() {\n    return this.hasItems ? this._items.length : 0;\n  }\n\n  /**\n   * Returns the first item from the collection.\n   * @returns {*}\n   */\n  get first() {\n    return this.hasItems ? this._items[0] : null;\n  }\n\n  /**\n   * Returns the last item from the collection.\n   * @returns {*}\n   */\n  get last() {\n    return this.hasItems ? this._items[this.count - 1] : null;\n  }\n\n  /**\n   * Constructor.\n   */\n  constructor(items, name, groupedBy) {\n    this._items = items;\n    this._name = name || '-';\n    this._originalItems = [...items];\n    this._groupedBy = groupedBy;\n  }\n\n  /**\n   * Groups the collection and sub-collections by the passed arguments.\n   * @param args\n   * @returns {Collection}\n   */\n  groupBy(...args) {\n    if (!args.length) {\n      return this;\n    }\n\n    this._groupArgs = args;\n    this._groups = [];\n    this._childrenGroupedBy = args.shift();\n    const obj = this._items.groupBy(this._childrenGroupedBy);\n\n    obj.forEach((key, value) => {\n      const group = new Collection(key, value, this._childrenGroupedBy);\n      this._groups.push(group);\n      group.groupBy(...args);\n    });\n\n    this.sortBy(...this._sortArgs);\n\n    return this;\n  }\n\n  /**\n   * Removes the grouping.\n   * @returns {Collection}\n   */\n  ungroup() {\n    this._groupArgs = [];\n    this._groups = [];\n    this._groupedBy = null;\n    this._childrenGroupedBy = null;\n    this._resetItems();\n    return this;\n  }\n\n  /**\n   * Sorts the collection and sub-collections by the passed arguments.\n   * @param args\n   * @returns {Collection}\n   */\n  sortBy(...args) {\n    if (!args.length) {\n      return this;\n    }\n\n    if (this.hasGroups) {\n      this._groups.forEach(group => group.sortBy(...args));\n      return this;\n    }\n\n    this._items.sort((r1, r2) => {\n      for (let i = 0; i < args.length; i++) {\n        const { field, dir } = args[i], v1 = r1[field], v2 = r2[field];\n        if (v1 < v1) return dir === 'asc' ? -1 : 1;\n        if (v1 > v2) return dir === 'asc' ? 1 : -1;\n      }\n\n      return 0;\n    });\n\n    return this;\n  }\n\n  /**\n   * Removes the applied sort.\n   * @returns {Collection}\n   */\n  removeSort() {\n    this._sortArgs = [];\n    this._resetItems();\n    this._groups.forEach(group => group.removeSort());\n    return this;\n  }\n\n  /**\n   * Search the items based on the passed query.\n   * @param args\n   * @returns {Collection}\n   */\n  search(...args) {\n    if (!args.length) {\n      return this;\n    }\n\n    this._query = args;\n    this._items = this._items.filter(r => matchCriteria(args, r));\n    this._groups.forEach(group => group.search(...args));\n\n    return this;\n  }\n\n  /**\n   * Reset the search.\n   * @returns {Collection}\n   */\n  reset() {\n    this._query = null;\n    this._resetItems();\n    this._groups.forEach(group => group.reset());\n    return this;\n  }\n\n  /**\n   * Reset the items.\n   * @private\n   */\n  _resetItems() {\n    this._items = [...this._originalItems];\n  }\n}\n","/**\n * Takes care of event handling business.\n */\nexport default class EventEmitter {\n\n  /**\n   * The events and their associated handlers store.\n   * @type {Map}\n   * @private\n   */\n  _eventsHandlersMap = new Map();\n\n  /**\n   * Subscribes to the passed event.\n   * @param {string} eventName\n   * @param {function} handler\n   */\n  on(eventName, handler) {\n    if (!this._eventsHandlersMap.has(eventName)) {\n      this._eventsHandlersMap.set(eventName, new Set());\n    }\n\n    this._eventsHandlersMap.get(eventName).add(handler);\n  }\n\n  /**\n   * Un-subscribes from the passed event.\n   * @param {string} eventName\n   * @param {function} handler\n   */\n  off(eventName, handler) {\n    if (!this._eventsHandlersMap.has(eventName)) {\n      return;\n    }\n\n    const handlers = this._eventsHandlersMap.get(eventName);\n    handlers && handlers.remove(handler);\n  }\n\n  /**\n   * Invokes the handlers registered for the event.\n   * @private\n   */\n  triggerEvent(eventName, ...args) {\n    const handlers = this._eventsHandlersMap.get(eventName);\n    if (!handlers) {\n      return;\n    }\n    [...handlers].forEach(handler => handler(...args));\n  }\n\n  destroy() {\n    this._eventsHandlersMap = null;\n  }\n}\n","import HttpRequestInfo from './http-request-info';\nimport Collection      from './collection';\nimport EventEmitter    from './event.emitter';\nimport {\n  SupervisorStatus,\n  SupervisorEvents,\n  Messages,\n  SUPERVISOR_QUERY_KEY,\n  FAKE,\n  XHR_METADATA_KEY,\n  InitiatorType,\n  CHARTJS_LIB_PATH,\n  STORAGE_KEY\n}                      from './constants';\nimport {\n  idGenerator,\n  convertBytes,\n  convertTime,\n  byteSize,\n  isAbsolute,\n  loadScript,\n  formatBytes,\n  formatTime,\n  matchCriteria,\n  isJsonResponse,\n  safeParse\n} from './util';\n\n/**\n * Supervises HTTP Network Traffic. Helps to identify query, group, sort, export, visualize requests and much more.\n */\nexport default class HttpSupervisor {\n\n  /**\n   * The UI widget through which user can interact with supervisor.\n   * @type {object}\n   * @private\n   */\n  _widget = null;\n\n  /**\n   * The reporter that displays the metrics and requests info captured in a particular period.\n   * @type {object}\n   * @private\n   */\n  _reporter = null;\n\n  /**\n   * Event emitter.\n   * @type {EventEmitter}\n   * @private\n   */\n  _eventEmitter = null;\n\n  /**\n   * The domains to monitor.\n   * @type {Set}\n   * @private\n   */\n  _domains = null;\n\n  /**\n   * True to render UI.\n   * @type {boolean}\n   * @private\n   */\n  _renderUI = true;\n\n  /**\n   * Request Quota.\n   * @type {object}\n   * @private\n   */\n  _quota = {\n    maxPayloadSize: 10240, // 10kb\n    maxResponseSize: 10240, // 10kb\n    maxDuration: 1000 // 1s\n  };\n\n  /**\n   * Displays each completed request.\n   * @type {boolean}\n   * @private\n   */\n  _traceEachRequest = false;\n\n  /**\n   * Displays failed request.\n   * @type {boolean}\n   * @private\n   */\n  _alertOnError = true;\n\n  /**\n   * Displays requests that exceeded quota.\n   * @type {boolean}\n   * @private\n   */\n  _alertOnExceedQuota = true;\n\n  /**\n   * Grouping parameters used in displaying requests.\n   * @type {string[]}\n   * @private\n   */\n  _groupBy = ['path', 'method'];\n\n  /**\n   * Sorting parameters used in displaying requests.\n   * @type {*[]}\n   * @private\n   */\n  _sortBy = [{ field: 'id', dir: 'asc' }];\n\n  /**\n   * Uses `performance.getEntriesByType` for capturing accurate duration and payload size.\n   * @type {boolean}\n   * @private\n   */\n  _usePerformance = true;\n\n  /**\n   * True to monkey patch fetch requests.\n   * @type {boolean}\n   * @private\n   */\n  _monkeyPatchFetch = true;\n\n  /**\n   * True to use `chart.js` library for data visualization.\n   * @type {boolean}\n   * @private\n   */\n  _useVisualization = true;\n\n  /**\n   * True to use keyboard events for operating control panel.\n   * @type {boolean}\n   * @private\n   */\n  _keyboardEvents = true;\n\n  /**\n   * Collection of captured requests.\n   * @type {Set}\n   * @private\n   */\n  _requests = new Set();\n\n    /**\n   * Collection of watches.\n   * @type {Map}\n   * @private\n   */\n  _watches = new Map();\n\n  /**\n   * Current status of the supervisor.\n   * @type {string}\n   * @private\n   */\n  _status = SupervisorStatus.NotReady;\n\n  /**\n   * Current on-going requests count.\n   * @type {number}\n   * @private\n   */\n  _callsCount = 0;\n\n  /**\n   * The id generator function.\n   * @type {function}\n   * @private\n   */\n  _id = idGenerator(1);\n\n    /**\n   * The id generator function for watches.\n   * @type {function}\n   * @private\n   */\n  _watchId = idGenerator(1);\n\n  /**\n   * Native `fetch` method.\n   * @type {function}\n   * @private\n   */\n  _nativeFetch = fetch;\n\n  /**\n   * XMLHttpRequest native `open` method.\n   * @type {function}\n   * @private\n   */\n  _nativeOpen = XMLHttpRequest.prototype.open;\n\n  /**\n   * XMLHttpRequest native `send` method.\n   * @type {function}\n   * @private\n   */\n  _nativeSend = XMLHttpRequest.prototype.send;\n\n  /**\n   * XMLHttpRequest native `setRequestHeader` method.\n   * @type {function}\n   * @private\n   */\n  _nativeSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;\n\n  /**\n   * Returns `true` if busy.\n   * @return {boolean}\n   */\n  get busy() {\n    return this._status === SupervisorStatus.Busy;\n  }\n\n  /**\n   * Returns the total no. of requests of the current session.\n   * @return {number}\n   */\n  get totalRequests() {\n    return this._requests.size;\n  }\n\n  /**\n   * Returns the passed domains.\n   * @returns {Array}\n   */\n  get domains() {\n    return this._domains ? [...this._domains] : null;\n  }\n\n  /**\n   * Set the domains.\n   */\n  set domains(value) {\n    this._domains = new Set(value || []);\n    this._updateStorage();\n  }\n\n  /**\n   * Returns `true` if ui is required.\n   * @returns {boolean}\n   */\n  get renderUI() {\n    return this._renderUI;\n  }\n\n  /**\n   * Shows/hides UI if `renderUI` is set as `true`.\n   */\n  set displayUI(value) {\n    if (value) {\n      this._widget.show();\n    } else {\n      this._widget.hide();\n    }\n  }\n\n  /**\n   * Returns `true` if trace each request is set.\n   * @returns {boolean}\n   */\n  get traceEachRequest() {\n    return this._traceEachRequest;\n  }\n\n  /**\n   * Setting `true` will print each completed request in console or the passed reporter.\n   * @param {boolean} value\n   */\n  set traceEachRequest(value) {\n    this._traceEachRequest = value;\n    this._updateStorage();\n  }\n\n  /**\n   * Returns `true` if alert on error is enabled.\n   * @returns {boolean}\n   */\n  get alertOnError() {\n    return this._alertOnError;\n  }\n\n  /**\n   * Setting `true` will print error requests.\n   * @param {boolean} value\n   */\n  set alertOnError(value) {\n    this._alertOnError = value;\n    this._updateStorage();\n  }\n\n  /**\n   * Returns `true` if printing requests that exceeds quota is enabled.\n   * @returns {boolean}\n   */\n  get alertOnExceedQuota() {\n    return this._alertOnExceedQuota;\n  }\n\n  /**\n   * Setting `true` will print requests that exceeds quota.\n   * @param {boolean} value\n   */\n  set alertOnExceedQuota(value) {\n    this._alertOnExceedQuota = value;\n    this._updateStorage();\n  }\n\n  /**\n   * Returns the defined quota.\n   * @returns {object}\n   */\n  get quota() {\n    return { ...this._quota };\n  }\n\n  /**\n   * Re-set the quota.\n   * @param {object} value\n   */\n  set quota(value) {\n    this._quota = { ...this._quota, ...value };\n    this._updateStorage();\n  }\n\n  /**\n   * Returns the group parameters.\n   * @returns {string[]}\n   */\n  get groupBy() {\n    return [...this._groupBy];\n  }\n\n  /**\n   * Sets the group parameters.\n   * @param value\n   */\n  set groupBy(value) {\n    this._groupBy = value;\n    this._updateStorage();\n  }\n\n  /**\n   * Returns the sort parameters.\n   * @returns {*[]}\n   */\n  get sortBy() {\n    return [...this._sortBy];\n  }\n\n  /**\n   * Set the sort parameters.\n   * @param value\n   */\n  set sortBy(value) {\n    this._sortBy = value;\n    this._updateStorage();\n  }\n\n  /**\n   * Returns `true` if performance API is enabled for capturing accurate info.\n   * @returns {boolean}\n   */\n  get usePerformance() {\n    return this._usePerformance;\n  }\n\n  /**\n   * Enable/Disable performance API.\n   * @param value\n   */\n  set usePerformance(value) {\n    this._usePerformance = value;\n    this._updateStorage();\n  }\n\n  /**\n   * Returns `true` if capturing fetch API is enabled.\n   * @returns {boolean}\n   */\n  get monkeyPatchFetch() {\n    return this._monkeyPatchFetch;\n  }\n\n  /**\n   * Enable/Disable intercepting fetch API.\n   * @param value\n   */\n  set monkeyPatchFetch(value) {\n    this._monkeyPatchFetch = value;\n    this._updateStorage();\n  }\n\n  /**\n   * Returns `true` if visualization is enabled.\n   * @returns {boolean}\n   */\n  get useVisualization() {\n    return this._useVisualization;\n  }\n\n  /**\n   * Returns `true` if keyboard events enabled.\n   * @return {boolean}\n   */\n  get keyboardEvents() {\n    return this._keyboardEvents;\n  }\n\n  /**\n   * Enables/disables keyboard events.\n   * @param value\n   */\n  set keyboardEvents(value) {\n    this._keyboardEvents = value;\n  }\n\n  /**\n   * Returns the current on-going calls count.\n   * @returns {number}\n   */\n  get onGoingCallsCount() {\n    return this._callsCount;\n  }\n\n  /**\n   * Constructor.\n   * @param {object} widget The control panel.\n   * @param {object} reporter The reporter that's used for displaying requests info and charts.\n   */\n  constructor(widget, reporter) {\n    this._widget = widget || FAKE;\n    this._reporter = reporter || FAKE;\n    this._eventEmitter = new EventEmitter();\n  }\n\n  /**\n   * Initialize the supervisor.\n   * @param {object} [config] The configuration parameters.\n   * @param {Array<string>} [config.domains] Array of domains to monitor.\n   * @param {boolean} [config.renderUI] Passing `true` will render UI.\n   * @param {boolean} [config.traceEachRequest] Passing `true` will print each request.\n   * @param {boolean} [config.alertOnError] Passing `true` will print error requests.\n   * @param {boolean} [config.alertOnExceedQuota] Passing `true` will print requests that exceeds quota.\n   * @param {object} [config.quota] Request Quota.\n   * @param {Array} [config.groupBy] Grouping parameters used in displaying requests.\n   * @param {Array} [config.sortBy] Sorting parameters used in displaying requests.\n   * @param {boolean} [config.usePerformance] True to use performance.getEntriesByType for accurate duration and payload info.\n   * @param {boolean} [config.monkeyPatchFetch] True to monkey patch fetch requests.\n   * @param {boolean} [config.useVisualization] True to use chart.js library for data visualization.\n   * @param {boolean} [config.keyboardEvents] True to use keyboard events for operating control panel.\n   * @param {Array} [config.watches] Collection of watches.\n   * @param {boolean} [loadConfigFromStore = true] True to load the config from session storage.\n   */\n  init(config = {}, loadConfigFromStore = true) {\n    if (this._status !== SupervisorStatus.NotReady) {\n      return;\n    }\n\n    config = loadConfigFromStore && localStorage.getItem(STORAGE_KEY) ? JSON.parse(localStorage.getItem(STORAGE_KEY)) : config;\n\n    const {\n      domains,\n      renderUI,\n      traceEachRequest,\n      alertOnError,\n      alertOnExceedQuota,\n      quota,\n      groupBy,\n      sortBy,\n      usePerformance,\n      monkeyPatchFetch,\n      useVisualization,\n      keyboardEvents,\n      watches\n    } = config || {};\n\n    Array.isArray(domains) && (this._domains = new Set(domains));\n    typeof renderUI === 'boolean' && (this._renderUI = renderUI);\n    typeof traceEachRequest === 'boolean' && (this._traceEachRequest = traceEachRequest);\n    typeof alertOnError === 'boolean' && (this._alertOnError = alertOnError);\n    typeof alertOnExceedQuota === 'boolean' && (this._alertOnExceedQuota = alertOnExceedQuota);\n    typeof quota === 'object' && (this._quota = { ...this._quota, ...quota });\n    Array.isArray(groupBy) && (this._groupBy = groupBy);\n    Array.isArray(sortBy) && (this._sortBy = sortBy);\n    typeof usePerformance === 'boolean' && (this._usePerformance = usePerformance);\n    typeof monkeyPatchFetch === 'boolean' && (this._monkeyPatchFetch = monkeyPatchFetch);\n    typeof useVisualization === 'boolean' && (this._useVisualization = useVisualization);\n    typeof keyboardEvents === 'boolean' && (this._keyboardEvents = keyboardEvents);\n    Array.isArray(watches) && (this._watches = new Map(this._watches));\n\n    // Listen to the `request-end` event to display request details based on the properties.\n    this.on(SupervisorEvents.REQUEST_END, (supervisor, request) => {\n      if (this._traceEachRequest) {\n        this._reporter.report(request);\n        return;\n      }\n\n      if (this._alertOnError && request.error === true) {\n        this._reporter.report(request);\n        return;\n      }\n\n      if (this._alertOnExceedQuota && this._isExceededQuota(request)) {\n        this._reporter.report(request);\n      }\n\n      const watchMatches = [...this._watches.values()].filter(w => this._matchWatch(w, request));\n      if (watchMatches.length) {\n        this._reporter.report(request);\n      }\n    });\n\n    // Update the configuration to the storage.\n    this._updateStorage();\n\n    // Render the widget, initialize the reporter and start monitoring.\n    this._render();\n    this._monkeyPatch();\n    this._status = SupervisorStatus.Idle;\n    this.start();\n\n    const initReporterAndFireEvent = () => {\n      this._reporter.init(this);\n      this._triggerEvent(SupervisorEvents.READY);\n    };\n\n    if (this._useVisualization) {\n      loadScript(CHARTJS_LIB_PATH, initReporterAndFireEvent, initReporterAndFireEvent);\n      return;\n    }\n\n    initReporterAndFireEvent();\n  }\n\n  /**\n   * Starts network monitoring.\n   */\n  start() {\n    if (this._status === SupervisorStatus.Busy) {\n      return;\n    }\n\n    if (this._status === SupervisorStatus.NotReady) {\n      this.init();\n      return;\n    }\n\n    this._status = SupervisorStatus.Busy;\n    this._reporter.printStatusMessage(Messages.ACTIVE);\n    this._triggerEvent(SupervisorEvents.START);\n  }\n\n  /**\n   * Stops network monitoring.\n   */\n  stop() {\n    if (this._status === SupervisorStatus.Idle) {\n      return;\n    }\n\n    this._status = SupervisorStatus.Idle;\n    this._reporter.printStatusMessage(Messages.SLEEP);\n    this._triggerEvent(SupervisorEvents.STOP);\n  }\n\n  /**\n   * Clears the requests log.\n   */\n  clear() {\n    this._reporter.clear();\n    this._requests.clear();\n    this._triggerEvent(SupervisorEvents.CLEAR);\n  }\n\n  /**\n   * Prints the log to the passed reporter.\n   */\n  print() {\n    const collection = new Collection([...this._requests])\n      .groupBy(...this._groupBy)\n      .sortBy(...this._sortBy);\n\n    this._reporter.report({\n      totalRequests: this.totalRequests,\n      getRequestsCount: this.getRequestsByType('GET').count,\n      postRequestsCount: this.getRequestsByType('POST').count,\n      putRequestsCount: this.getRequestsByType('PUT').count,\n      deleteRequestsCount: this.getRequestsByType('DELETE').count,\n      failedRequests: this.getFailedRequests().count,\n      requestsExceededQuota: this.getRequestsExceededQuota().count,\n      maxPayloadSize: this.maxPayloadSize(),\n      maxResponseSize: this.maxResponseSize(),\n      maxDuration: this.maxDuration(),\n      totalPayloadSize: this.getTotalPayloadSize(),\n      totalResponseSize: this.getTotalResponseSize()\n    }, collection);\n  }\n\n  /**\n   * Subscribes to the passed event.\n   * @param {string} eventName The event name.\n   * @param {function} handler The event handler.\n   */\n  on(eventName, handler) {\n    this._eventEmitter.on(eventName, handler);\n  }\n\n  /**\n   * Un-subscribes from the passed event.\n   * @param {string} eventName The event name.\n   * @param {function} handler The event handler.\n   */\n  off(eventName, handler) {\n    this._eventEmitter.off(eventName, handler);\n  }\n\n  /**\n   * Retires the supervisor.\n   */\n  retire(clearStore = false) {\n    this.stop();\n    this._undoMonkeyPatch();\n    this._widget.destroy();\n    this._widget = null;\n    this._reporter.destroy && this._reporter.destroy();\n    this._reporter = null;\n    this._triggerEvent(SupervisorEvents.RETIRE);\n    this._eventEmitter.destroy();\n    this._eventEmitter = null;\n    clearStore && this.clearStore();\n    this._status = SupervisorStatus.Retired;\n  }\n\n  /**\n   * Displays the passed collection using the reporter.\n   * @param {Collection} collection\n   */\n  report(collection) {\n    this._reporter.report(collection);\n  }\n\n  /**\n   * Returns the captured requests.\n   * @returns {Collection}\n   */\n  requests() {\n    return new Collection([...this._requests]);\n  }\n\n  /**\n   * Returns request of the id.\n   * @param {number} id The request id.\n   * @returns {HttpRequestInfo}\n   */\n  getRequestById(id) {\n    return [...this._requests].find(r => r.id === id);\n  }\n\n  /**\n   * Filters the requests based on the passed type and returns as collection.\n   * @param {string} method The request method (GET / POST etc.)\n   * @returns {Collection}\n   */\n  getRequestsByType(method) {\n    return this.requests().search({ field: 'method', operator: '=', value: method });\n  }\n\n  /**\n   * Returns requests initiated for the passed url.\n   * @param {string} url The absolute or relative url.\n   * @returns {Collection}\n   */\n  getRequestsByUrl(url) {\n    return this.requests().search({ field: isAbsolute(url) ? 'url' : 'path', operator: '=', value: url });\n  }\n\n  /**\n   * Returns requests matches the passed status code.\n   * @param {number} status The status code.\n   * @returns {Collection}\n   */\n  getRequestsOfStatus(status) {\n    return this.requests().search({ field: 'responseStatus', operator: '=', value: status });\n  }\n\n  /**\n   * Returns the failed requests.\n   * @returns {Collection}\n   */\n  getFailedRequests() {\n    return this.requests().search({ field: 'error', operator: '=', value: true });\n  }\n\n  /**\n   * Returns the requests that exceeded the quota.\n   * @returns {Collection}\n   */\n  getRequestsExceededQuota() {\n    return this.requests().search({ field: 'exceedsQuota', operator: '=', value: true });\n  }\n\n  /**\n   * Returns the last failed request.\n   * @returns {HttpRequestInfo}\n   */\n  getLastFailedRequest() {\n    return this.getFailedRequests().last;\n  }\n\n  /**\n   * Returns the last request.\n   * @returns {HttpRequestInfo}\n   */\n  getLastRequest() {\n    return this.requests().last;\n  }\n\n  /**\n   * Returns the request that has maximum response size.\n   * @returns {HttpRequestInfo}\n   */\n  getMaxSizeRequest() {\n    return this.requests().sortBy({ field: 'responseSize', dir: 'desc' }).first;\n  }\n\n  /**\n   * Returns the request that took maximum time to complete.\n   * @returns {HttpRequestInfo}\n   */\n  getMaxDurationRequest() {\n    return this.requests().sortBy({ field: 'duration', dir: 'desc' }).first;\n  }\n\n  /**\n   * Groups the requests based on the passed fields.\n   * @param {...string} groupArgs The group fields.\n   * @returns {Collection}\n   */\n  groupRequests(...groupArgs) {\n    return this.requests().groupBy(...groupArgs);\n  }\n\n  /**\n   * Sorts the requests based on the passed arguments.\n   * @param {...*} sortArgs The sort parameters.\n   * @returns {Collection}\n   */\n  sortRequests(...sortArgs) {\n    return this.requests().sortBy(...sortArgs);\n  }\n\n  /**\n   * Groups and sorts the requests.\n   * @param {Array<string>} groupArgs Array of fields.\n   * @param {Array<*>} sortArgs Array of sort parameters.\n   * @returns {Collection}\n   */\n  groupSortRequests(groupArgs, sortArgs) {\n    return this.groupRequests(...groupArgs).sortBy(...sortArgs);\n  }\n\n  /**\n   * Filters requests based on the passed query.\n   * @param {...*} query The search query.\n   * @returns {Collection}\n   */\n  searchRequests(...query) {\n    const q = [...query];\n    q.forEach(x => {\n      const { field, value } = x;\n\n      if (typeof value !== 'string') {\n        return;\n      }\n\n      if (['payloadSize', 'responseSize'].indexOf(field) > -1) {\n        x.value = convertBytes(value);\n      } else if (field === 'duration') {\n        x.value = convertTime(value);\n      }\n    });\n\n    return this.requests().search(...query);\n  }\n\n  /**\n   * Returns requests that contains the passed string.\n   * @param {string} part The url part.\n   * @returns {Collection}\n   */\n  searchRequestsContainsUrl(part) {\n    return this.requests().search({ field: 'url', operator: 'contains', value: part });\n  }\n\n  /**\n   * Returns requests that contains response size greater than the passed value.\n   * @param {number} size The size in bytes.\n   * @returns {Collection}\n   */\n  searchRequestsOfSizeGreaterThan(size) {\n    return this.requests().search({ field: 'responseSize', operator: '>=', value: size });\n  }\n\n  /**\n   * Get requests matches the query; group and sort the results based on the passed paramaters.\n   * @param {Array<*>} query The search queries.\n   * @param {Array<string>} groupArgs The group arguments.\n   * @param {Array<string>} sortArgs The sort parameters.\n   * @returns {Collection}\n   */\n  searchGroupSortRequests(query, groupArgs, sortArgs) {\n    return this.searchRequests(query).groupBy(...groupArgs).sortBy(...sortArgs);\n  }\n\n  /**\n   * Returns the total payload size summing all requests.\n   * @returns {number}\n   */\n  getTotalPayloadSize() {\n    return [...this._requests].reduce((a, b) => a + b.payloadSize, 0);\n  }\n\n  /**\n   * Returns the total response size summing all requests.\n   * @returns {number}\n   */\n  getTotalResponseSize() {\n    return [...this._requests].reduce((a, b) => a + b.responseSize, 0);\n  }\n\n  /**\n   * Returns the max payload size of the requests.\n   * @returns {number}\n   */\n  maxPayloadSize() {\n    return Math.max(...[...this._requests].map(r => r.payloadSize));\n  }\n\n  /**\n   * Returns the max response size of the requests.\n   * @returns {number}\n   */\n  maxResponseSize() {\n    return Math.max(...[...this._requests].map(r => r.responseSize));\n  }\n\n  /**\n   * Returns the max duration.\n   * @returns {number}\n   */\n  maxDuration() {\n    return Math.max(...[...this._requests].map(r => r.duration));\n  }\n\n  /**\n   * Prints all the requests in the passed reporter.\n   */\n  printRequests() {\n    this._reporter.report(this.requests());\n  }\n\n  /**\n   * Prints the requests matched the passed method (GET, POST etc.).\n   * @param {string} method\n   */\n  printRequestsByType(method) {\n    this._reporter.report(this.getRequestsByType(method));\n  }\n\n  /**\n   * Prints the requests that's been issued against the passed url.\n   * @param {string} url The absolute or relative url.\n   */\n  printRequestsByUrl(url) {\n    this._reporter.report(this.getRequestsByUrl(url));\n  }\n\n  /**\n   * Print requests that has the passed response status.\n   * @param {number} status The status code.\n   */\n  printRequestsOfStatus(status) {\n    this._reporter.report(this.getRequestsOfStatus(status));\n  }\n\n  /**\n   * Prints failed requests.\n   */\n  printFailedRequests() {\n    this._reporter.report(this.getFailedRequests());\n  }\n\n  /**\n   * Prints requests exceeds quota.\n   */\n  printRequestsExceededQuota() {\n    this._reporter.report(this.getRequestsExceededQuota());\n  }\n\n  /**\n   * Prints the last failed request.\n   */\n  printLastFailedRequest() {\n    this._reporter.report(this.getLastFailedRequest());\n  }\n\n  /**\n   * Prints the last request.\n   */\n  printLastRequest() {\n    this._reporter.report(this.getLastRequest());\n  }\n\n  /**\n   * Prints the request that has maximum size.\n   */\n  printMaxSizeRequest() {\n    this._reporter.report(this.getMaxSizeRequest());\n  }\n\n  /**\n   * Prints the request that took maximum time.\n   */\n  printMaxDurationRequest() {\n    this._reporter.report(this.getMaxDurationRequest());\n  }\n\n  /**\n   * Groups and prints the requests.\n   * @param {...string} groupArgs The group fields.\n   */\n  groupAndPrintRequests(...groupArgs) {\n    this._reporter.report(this.groupRequests(...groupArgs));\n  }\n\n  /**\n   * Sorts and prints the requests.\n   * @param {...string} sortArgs The sort parameters.\n   */\n  sortAndPrintRequests(...sortArgs) {\n    this._reporter.report(this.sortRequests(...sortArgs));\n  }\n\n  /**\n   * Groups, sorts and prints the requests.\n   * @param {Array<string>} groupArgs Array of fields.\n   * @param {Array<*>} sortArgs Array of sort parameters.\n   */\n  groupSortAndPrintRequests(groupArgs, sortArgs) {\n    this._reporter.report(this.groupSortRequests(groupArgs, sortArgs));\n  }\n\n  /**\n   * Searches and prints the requests matches the search query.\n   * @param {...*} query The search queries.\n   */\n  searchAndPrintRequests(...query) {\n    this._reporter.report(this.searchRequests(...query));\n  }\n\n  /**\n   * Print requests that has url contains the passed string.\n   * @param part The url part.\n   */\n  printRequestsContainsUrl(part) {\n    this._reporter.report(this.searchRequestsContainsUrl(part));\n  }\n\n  /**\n   * Print requests that has response size greater than the passed value.\n   * @param {number} size The size in bytes.\n   */\n  printRequestsOfSizeGreaterThan(size) {\n    this._reporter.report(this.searchRequestsOfSizeGreaterThan(size));\n  }\n\n  /**\n   * Searches and then groups, sorts and finally prints the collection.\n   * @param {Array<*>} query The search queries.\n   * @param {Array<string>} groupArgs The group arguments.\n   * @param {Array<string>} sortArgs The sort parameters.\n   */\n  searchGroupSortAndPrintRequests(query, groupArgs, sortArgs) {\n    this._reporter.report(this.searchGroupSortRequests(...query, ...groupArgs, ...sortArgs));\n  }\n\n  /**\n   * Displays the bar chart of responsive size.\n   */\n  displayResponseSizeChart() {\n    const labels = [...this._requests].map(r => r.id),\n      data = [...this._requests].map(r => r.responseSize);\n\n    this._reporter.visualize({\n      type: 'bar',\n      title: 'Response Size Of Requests',\n      labels,\n      data,\n      format: formatBytes\n    });\n  }\n\n  /**\n   * Displays the bar chart of responsive size.\n   */\n  displayResponseTimeChart() {\n    const labels = [...this._requests].map(r => r.id),\n      data = [...this._requests].map(r => r.duration);\n\n    this._reporter.visualize({\n      type: 'bar',\n      title: 'Response Time Of Requests',\n      labels,\n      data,\n      format: formatTime\n    });\n  }\n\n  /**\n   * Displays bubble chart for response size and time.\n   */\n  displaySizeTimeChart() {\n    const data = [...this._requests].map(r => ({\n      x: r.id,\n      y: r.responseSize,\n      v: r.duration\n    }));\n\n    this._reporter.visualize({\n      type: 'bubble',\n      title: 'Response Size And Time Of Requests',\n      data,\n      format: formatBytes\n    });\n  }\n\n  /**\n   * Displays the response size distribution.\n   */\n  displaySizeDistribution() {\n    const labels = [...this._requests].map(r => r.path),\n      data = [...this._requests].map(r => r.responseSize);\n\n    this._reporter.visualize({\n      type: 'pie',\n      title: 'Response Size Distribution',\n      labels,\n      data,\n      format: formatBytes\n    });\n  }\n\n  /**\n   * Exports the requests to excel.\n   */\n  export() {\n    if (this.totalRequests === 0) {\n      window.alert('No Requests to export');\n      return;\n    }\n\n    let csvString = `Request No,URL,Path,Type,Payload Size (bytes),Duration (ms),Status,Size (bytes),Is Error(?),Error Description,Exceeds Quota (?)\\r\\n`;\n    [...this._requests].forEach(r => {\n      csvString += `${r.id},${r.url},${r.path},${r.method},${r.payloadSize || 0},${r.duration || 0},${r.responseStatus},${r.responseSize},${r.error},${r.errorDescription},${r.exceedsQuota}\\r\\n`;\n    });\n\n    csvString += `\\r\\n`;\n    csvString = `data:application/csv,${encodeURIComponent(csvString)}`;\n\n    let exportLink = document.querySelector('#http-supervisor-export');\n\n    if (exportLink) {\n      exportLink.remove();\n    }\n\n    exportLink = document.createElement('a');\n    exportLink.id = 'http-supervisor-export';\n    exportLink.setAttribute('href', csvString);\n    exportLink.setAttribute('download', 'HttpSupervisorRequestsLog.csv');\n    document.body.appendChild(exportLink);\n    exportLink.click();\n  }\n\n  /**\n   * Alert request that matches the passed arguments.\n   * @param {...*} args The watch arguments.\n   * @returns {number}\n   */\n  watchOn(...args) {\n    const watchId = this._watchId();\n    this._watches.set(watchId, args);\n    this._updateStorage();\n    return watchId;\n  }\n\n  /**\n   * Remove the watch.\n   * @param {number} watchId The watch id.\n   */\n  removeWatch(watchId) {\n    this._watches.remove(watchId);\n    this._updateStorage();\n  }\n\n  /**\n   * Clear all watches.\n   */\n  clearWatches() {\n    this._watches.clear();\n    this._updateStorage();\n  }\n\n  /**\n   * Removes the stored config from session storage.\n   */\n  clearStore() {\n    localStorage.removeItem(STORAGE_KEY);\n  }\n\n  /**\n   * Render the UI.\n   * @private\n   */\n  _render() {\n    if (!this._renderUI) {\n      return;\n    }\n\n    this._widget.init(this);\n    this._widget.render();\n  }\n\n  /**\n   * Monkey patches XHR's open and send methods.\n   * @private\n   */\n  _monkeyPatch() {\n    const open = this._open.bind(this),\n      send = this._send.bind(this),\n      setRequestHeader = this._setRequestHeader.bind(this);\n\n    this._monkeyPatchFetch && (window.fetch = this._fetch.bind(this));\n\n    XMLHttpRequest.prototype.open = function () {\n      open(this, ...arguments);\n    };\n\n    XMLHttpRequest.prototype.send = function () {\n      send(this, ...arguments);\n    };\n\n    XMLHttpRequest.prototype.setRequestHeader = function () {\n      setRequestHeader(this, ...arguments);\n    };\n  }\n\n  /**\n   * Revert the monkey patching.\n   * @private\n   */\n  _undoMonkeyPatch() {\n    this._monkeyPatchFetch && (window.fetch = this._nativeFetch);\n    XMLHttpRequest.prototype.open = this._nativeOpen;\n    XMLHttpRequest.prototype.send = this._nativeSend;\n    XMLHttpRequest.prototype.setRequestHeader = this._nativeSetRequestHeader;\n  }\n\n  /**\n   * Capture request information and opens network connection using fetch API.\n   * @private\n   */\n  _fetch() {\n    if (!this.busy) {\n      return;\n    }\n\n    const id = this._id();\n\n    let [url, options = {}] = [...arguments],\n      { method = 'GET', body } = options;\n\n    const payload = safeParse(body);\n    const requestInfo = new HttpRequestInfo(id, url, method, payload);\n    requestInfo.initiatorType = InitiatorType.FETCH;\n    requestInfo.payloadSize = byteSize(JSON.stringify(payload) || '');\n    this._requests.add(requestInfo);\n\n    return new Promise((resolve, reject) => {\n      this._triggerEvent(SupervisorEvents.REQUEST_START, null, requestInfo);\n\n      let response;\n\n      // Make the fetch call and capture the response info.\n      this._nativeFetch.call(window, this._isPerformanceSupported() ? this._appendRequestIdToUrl(url, id) : url, options)\n        .then(r => {\n          response = r.clone();\n          return isJsonResponse(r.headers.get('content-type')) ? r.json() : null;\n        })\n        .then(data => {\n          requestInfo.response = data;\n          resolve(response);\n        })\n        .catch(error => {\n          reject(error);\n        })\n        .finally(() => {\n          requestInfo.responseStatus = response ? response.status : 500;\n          this._fillParametersAndFireEvents(requestInfo, response);\n        });\n    });\n  }\n\n  /**\n   * Capture request information and opens network connection using XHR.\n   * @private\n   */\n  _open() {\n    if (!this.busy) {\n      return;\n    }\n\n    const parameters = [...arguments],\n      [xhr, method, url] = parameters;\n\n    parameters.shift();\n\n    const id = this._id();\n\n    if (this._isPerformanceSupported()) {\n      parameters[1] = this._appendRequestIdToUrl(url, id);\n    }\n\n    xhr[XHR_METADATA_KEY] = {\n      id: id,\n      method: method.toUpperCase(),\n      url: url.toLowerCase()\n    };\n\n    this._nativeOpen.call(xhr, ...parameters);\n  }\n\n  /**\n   * Sends XHR request.\n   * @private\n   */\n  _send() {\n    if (!this.busy) {\n      return;\n    }\n\n    const parameters = [...arguments],\n      [xhr, payload] = parameters,\n      url = this._createUrl(xhr[XHR_METADATA_KEY].url);\n\n    xhr[XHR_METADATA_KEY].payload = safeParse(payload);\n    parameters.shift();\n\n    if (this._domains !== null && !this._domains.has(url.origin)) {\n      this._nativeSend.call(xhr, ...parameters);\n      return;\n    }\n\n    // Increment the call counter.\n    this._increment();\n\n    // Capture the request.\n    const requestInfo = this._createRequest(xhr);\n    this._requests.add(requestInfo);\n\n    // Listen to `onreadystatechange` event to capture the response info.\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n\n      this._decrement();\n      requestInfo.responseStatus = xhr.status;\n      requestInfo.response = isJsonResponse(xhr.getResponseHeader('Content-Type')) ? safeParse(xhr.response) : xhr.response;\n      this._fillParametersAndFireEvents(requestInfo, xhr);\n    };\n\n    this._nativeSend.call(xhr, ...parameters);\n    this._triggerEvent(SupervisorEvents.REQUEST_START, requestInfo, xhr);\n  }\n\n  /**\n   * Set request header.\n   * @private\n   */\n  _setRequestHeader(xhr, name, value) {\n    const headers = xhr[XHR_METADATA_KEY].requestHeaders;\n    headers.set(name, value);\n    this._nativeSetRequestHeader(name, value);\n  }\n\n  /**\n   * Fill duration and size parameters from response.\n   * @private\n   */\n  _fillParametersAndFireEvents(requestInfo, xhrOrResponse) {\n    let performanceEntry;\n\n    // If performance API is well supported read the duration and size leveraging it.\n    if (this._isPerformanceSupported()) {\n      const urlName = this._appendRequestIdToUrl(requestInfo.url, requestInfo.id);\n      performanceEntry = performance.getEntriesByType('resource').find(e => e.name === urlName);\n    }\n\n    const responseSize = byteSize(JSON.stringify(requestInfo.response || ''));\n\n    if (performanceEntry) {\n      requestInfo.timeStart = performanceEntry.startTime;\n      requestInfo.timeEnd = performanceEntry.responseEnd;\n      requestInfo.payloadByPerformance = !!performanceEntry.transferSize;\n      requestInfo.responseSize = requestInfo.payloadByPerformance ? performanceEntry.transferSize : responseSize;\n    } else {\n      requestInfo.payloadByPerformance = false;\n      requestInfo.timeEnd = performance.now();\n      requestInfo.responseSize = responseSize;\n    }\n\n    requestInfo.duration = Math.round(requestInfo.timeEnd - requestInfo.timeStart);\n    requestInfo.exceedsQuota = this._isExceededQuota(requestInfo);\n\n    requestInfo.error && this._triggerEvent(SupervisorEvents.REQUEST_ERROR, requestInfo, xhrOrResponse);\n    requestInfo.exceedsQuota && this._triggerEvent(SupervisorEvents.EXCEEDS_QUOTA, requestInfo, xhrOrResponse);\n    this._triggerEvent(SupervisorEvents.REQUEST_END, requestInfo, xhrOrResponse);\n  }\n\n  /**\n   * Increments the call counter.\n   * @private\n   */\n  _increment() {\n    this._callsCount++;\n  }\n\n  /**\n   * Decrements the call counter.\n   * @private\n   */\n  _decrement() {\n    if (this._callsCount === 0) {\n      return;\n    }\n\n    this._callsCount--;\n  }\n\n  /**\n   * Creates request object from the XHR object.\n   * @private\n   */\n  _createRequest(xhr) {\n    const {\n      id,\n      url,\n      method,\n      payload\n    } = xhr[XHR_METADATA_KEY];\n\n    const httpRequestInfo = new HttpRequestInfo(id, url, method, payload);\n    httpRequestInfo.initiatorType = InitiatorType.XHR;\n    httpRequestInfo.payloadSize = byteSize(payload ? JSON.stringify(payload) : '');\n\n    return httpRequestInfo;\n  }\n\n  /**\n   * Returns true if `performance.getEntriesByType` is supported.\n   * @private\n   */\n  _isPerformanceSupported() {\n    return this._usePerformance && !!(window.performance && window.performance.getEntriesByType);\n  }\n\n  /**\n   * Append request id to url.\n   * @private\n   */\n  _appendRequestIdToUrl(url, id) {\n    const urlObj = this._createUrl(url);\n    urlObj.searchParams.append(SUPERVISOR_QUERY_KEY, id.toString());\n    return urlObj.toString();\n  }\n\n  /**\n   * Invokes the handlers registered for the event.\n   * @private\n   */\n  _triggerEvent(eventName, ...args) {\n    this._eventEmitter.triggerEvent(eventName, this, ...args);\n  }\n\n  /**\n   * Returns true if the passed request exceeds the quota.\n   * @private\n   */\n  _isExceededQuota(request) {\n    return request.payloadSize > this._quota.maxPayloadSize || request.responseSize > this._quota.maxResponseSize || request.duration > this._quota.maxDuration;\n  }\n\n  /**\n   * Creates URL object.\n   * @private\n   */\n  _createUrl(url) {\n    return isAbsolute(url) ? new URL(url) : new URL(url, document.location.origin);\n  }\n\n  /**\n   * Stores the configuration in local storage.\n   */\n  _updateStorage() {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify({\n      traceEachRequest: this._traceEachRequest,\n      alertOnError: this._alertOnError,\n      alertOnExceedQuota: this._alertOnExceedQuota,\n      usePerformance: this._usePerformance,\n      quota: this._quota,\n      domains: this._domains,\n      watches: JSON.stringify([...this._watches.entries()])\n    }));\n  }\n\n  /**\n   * Returns `true` if the request matches the arguments.\n   */\n  _matchWatch(argsArray, request) {\n    return matchCriteria(argsArray, request);\n  }\n}\n","/**\n * Supervisor Control Panel Template.\n * @type {HTMLTemplateElement}\n */\nimport { SupervisorEvents } from './constants';\n\nconst template = document.createElement('template');\ntemplate.innerHTML = `\n<style>\n  :host {\n    --color: #eee;\n    --bg-color: #333;\n    --hover-color: #5ab7fa;\n    --disabled-color: #ccc;\n    --border-color: #666;\n    --font-size: 12px;\n    --index: 20000;\n    --popover-width: 350px;\n    --box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n    color: var(--color);\n    font-family: Arial, \"Helvetica Neue\", Helvetica, sans-serif;\n  }\n\n  .http-supervisor-container {\n    position: fixed;\n    top: 0;\n    right: calc(50% - 91px);\n    z-index: var(--index);\n    display: flex;\n    justify-content: center;\n    align-items:center;\n    background-color: var(--bg-color);\n    border: solid 1px var(--border-color);\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    font-size: var(--font-size);\n    box-sizing: border-box;\n    color: var(--font-color);\n    box-shadow: var(--box-shadow);\n  }\n\n   button, button:active, button:focus, button:hover, span {\n    width: 30px;\n    height: 26px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: none;\n    box-sizing: border-box;\n    background: none;\n    box-shadow: none;\n    outline: none;\n  }\n\n  button:not(:disabled) {\n    cursor:pointer;\n  }\n\n  button svg {\n    color: var(--color);\n  }\n\n  button:disabled svg {\n    color: var(--disabled-color);\n  }\n\n  button:not(:disabled):hover svg {\n    color: var(--hover-color);\n  }\n\n  button:not(last-child), span {\n    border-right: solid 1px var(--border-color);\n  }\n\n  .popover-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    content: ' ';\n    display: none;\n  }\n\n  .popover-content {\n    position: fixed;\n    top: 38px;\n    width: var(--popover-width);\n    background-color: var(--bg-color);\n    right: calc(50% - 216px);\n    border-radius: 6px;\n    padding: 20px;\n    font-size: var(--font-size);\n    box-shadow: var(--box-shadow);\n    display: none;\n  }\n\n  .popover-content .popover-close {\n    position: absolute;\n    right: 8px;\n    top: 8px;\n  }\n\n  .active {\n    display: block;\n  }\n\n  .popover-content:before {\n    position: absolute;\n    z-index: -1;\n    content: \"\";\n    right: calc(50% - 65px);\n    top: -10px;\n    border-style: solid;\n    border-width: 0 10px 10px 10px;\n    border-color: transparent transparent var(--bg-color) transparent;\n  }\n\n  .popover-content input[type=\"number\"], .popover-content input[type=\"text\"] {\n    background-color: transparent;\n    color: var(--color);\n    outline: none;\n    border: none;\n    border-bottom: solid 1px var(--border-color);\n    font-size: var(--font-size);\n    width: 60px;\n  }\n\n  .popover-content form {\n    margin-bottom: 0;\n  }\n\n  .popover-content form div {\n    display: flex;\n    align-items: center;\n  }\n\n  .popover-content h4 {\n    margin: 0;\n    margin-bottom: 8px;\n    color: var(--disabled-color);\n    text-transform: uppercase;\n    font-size: 8px;\n    letter-spacing: 1px;\n  }\n\n  .popover-content fieldset {\n    display: grid;\n    grid-template-columns: 50% 50%;\n    grid-column-gap: 5px;\n    grid-row-gap: 4px;\n    border: dashed 1px var(--border-color);\n    margin-bottom: 15px;\n    padding: 6px 12px;\n  }\n\n  .popover-content .first div label {\n    width: 140px;\n  }\n\n  .popover-content .second div label {\n    width: 80px;\n  }\n\n  .popover-content .third {\n    display: flex;\n    border: none;\n    padding: 0;\n  }\n\n  .popover-content .third button {\n    border: solid 1px var(--border-color);\n  }\n\n  .popover-content .fourth {\n    border: none;\n    padding: 0;\n    display: none;\n    margin-bottom: 0;\n    grid-template-columns: 1fr;\n  }\n\n  .popover-content .fourth.active {\n    display: grid;\n  }\n\n  .advanced-container {\n    display: flex;\n    align-items: center;\n  }\n\n  .advanced-container svg {\n    width: 10px;\n    height: 10px;\n    position: relative;\n    top: -5px;\n    margin-left: 5px;\n  }\n</style>\n<div class=\"http-supervisor-container\">\n   <button>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-play\" viewBox=\"0 0 16 16\">\n       <path d=\"M10.804 8 5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z\"/>\n    </svg>\n   </button>\n   <button style=\"display: none;\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" fill=\"currentColor\" class=\"bi bi-stop-circle\" viewBox=\"0 0 16 16\">\n        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\n        <path d=\"M5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3z\"/>\n      </svg>\n   </button>\n   <button disabled>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\n        <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\n        <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\n      </svg>\n   </button>\n   <button disabled>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-eye\" viewBox=\"0 0 16 16\">\n      <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z\"/>\n      <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z\"/>\n    </svg>\n   </button>\n   <button disabled>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-box-arrow-up\" viewBox=\"0 0 16 16\">\n        <path fill-rule=\"evenodd\" d=\"M3.5 6a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 1 0-1h2A1.5 1.5 0 0 1 14 6.5v8a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-8A1.5 1.5 0 0 1 3.5 5h2a.5.5 0 0 1 0 1h-2z\"/>\n        <path fill-rule=\"evenodd\" d=\"M7.646.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 1.707V10.5a.5.5 0 0 1-1 0V1.707L5.354 3.854a.5.5 0 1 1-.708-.708l3-3z\"/>\n      </svg>\n  </button>\n   <span>\n     0\n   </span>\n   <button>\n     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-three-dots-vertical\" viewBox=\"0 0 16 16\">\n     <path d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\n   </svg>\n   </button>\n</div>\n<div class=\"popover\">\n  <div class=\"popover-overlay\"></div>\n  <div class=\"popover-content\">\n    <a href=\"#\" class=\"popover-close\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"#ccc\" class=\"bi bi-x-circle-fill\" viewBox=\"0 0 16 16\">\n      <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z\"/>\n    </svg>\n    </a>\n    <form>\n      <h4>Options</h4>\n      <fieldset class=\"first\">\n        <div>\n          <label>Trace Request:</label>\n          <input type=\"checkbox\" />\n        </div>\n        <div>\n          <label>Alert Error:</label>\n          <input type=\"checkbox\" />\n        </div>\n        <div>\n          <label>Alert Quota Exceed:</label>\n          <input type=\"checkbox\" />\n        </div>\n        <div>\n          <label>Use Performance:</label>\n          <input type=\"checkbox\" />\n        </div>\n      </fieldset>\n\n      <h4>Quota</h4>\n      <fieldset class=\"second\">\n        <div>\n          <label>Payload:</label>\n          <input type=\"number\" min=\"1\" />\n        </div>\n        <div>\n          <label>Response:</label>\n          <input type=\"number\" min=\"1\" />\n        </div>\n        <div>\n          <label>Duration:</label>\n          <input type=\"number\" min=\"1\" />\n        </div>\n      </fieldset>\n\n      <h4>Visualization</h4>\n      <fieldset class=\"third\">\n        <button title=\"Response Size Chart\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-bar-chart-fill\" viewBox=\"0 0 16 16\">\n              <path d=\"M1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3zm5-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2z\"/>\n            </svg>\n        </button>\n        <button title=\"Response Duration Chart\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-bar-chart-fill\" viewBox=\"0 0 16 16\">\n              <path d=\"M1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3zm5-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2z\"/>\n            </svg>\n        </button>\n        <button title=\"Response Size And Duration Chart\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-bar-chart-fill\" viewBox=\"0 0 16 16\">\n              <path d=\"M1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3zm5-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2z\"/>\n            </svg>\n        </button>\n        <button title=\"Response Size Distribution\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pie-chart-fill\" viewBox=\"0 0 16 16\">\n              <path d=\"M15.985 8.5H8.207l-5.5 5.5a8 8 0 0 0 13.277-5.5zM2 13.292A8 8 0 0 1 7.5.015v7.778l-5.5 5.5zM8.5.015V7.5h7.485A8.001 8.001 0 0 0 8.5.015z\"/>\n            </svg>\n        </button>\n      </fieldset>\n\n      <div class=\"advanced-container\">\n        <h4>Advanced</h4>\n        <svg style=\"cursor:pointer\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-chevron-double-down expand\" viewBox=\"0 0 16 16\">\n          <path fill-rule=\"evenodd\" d=\"M1.646 6.646a.5.5 0 0 1 .708 0L8 12.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z\"/>\n          <path fill-rule=\"evenodd\" d=\"M1.646 2.646a.5.5 0 0 1 .708 0L8 8.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z\"/>\n        </svg>\n        <svg style=\"cursor:pointer; display: none\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-chevron-double-up collapse\" viewBox=\"0 0 16 16\">\n          <path fill-rule=\"evenodd\" d=\"M7.646 2.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 3.707 2.354 9.354a.5.5 0 1 1-.708-.708l6-6z\"/>\n          <path fill-rule=\"evenodd\" d=\"M7.646 6.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 7.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z\"/>\n        </svg>\n      </div>\n\n      <fieldset class=\"fourth\">\n        <div>\n          <label>Domains:</label>\n          <input type=\"text\" style=\"flex-grow: 1\" />\n        </div>\n        <div>\n          <label>Keyboard Events:</label>\n          <input type=\"checkbox\" />\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</div>\n`;\n\n/**\n * The wrapper class that controls the supervisor web component.\n */\nexport default class HttpSupervisorWidget {\n\n  /**\n   * The control panel web component.\n   */\n  _el = null;\n\n  /**\n   * The supervisor.\n   * @type {HttpSupervisor}\n   * @private\n   */\n  _httpSupervisor = null;\n\n  /**\n   * ctor.\n   */\n  constructor() {\n    this._onStart = this._onStart.bind(this);\n    this._onStop = this._onStop.bind(this);\n    this._updateTotalRequestsCount = this._updateTotalRequestsCount.bind(this);\n    this._updateLabelsCount = this._updateLabelsCount.bind(this);\n  }\n\n  /**\n   * Initialize stuff.\n   * @param httpSupervisor\n   */\n  init(httpSupervisor) {\n    this._httpSupervisor = httpSupervisor;\n  }\n\n  /**\n   * Renders the UI.\n   */\n  render() {\n    if (this._el) {\n      return;\n    }\n\n    document.body.appendChild(this._el = document.createElement('http-supervisor-widget'));\n\n    const {\n      domains,\n      traceEachRequest,\n      alertOnError,\n      alertOnExceedQuota,\n      quota,\n      usePerformance,\n      keyboardEvents\n    } = this._httpSupervisor;\n\n    this._el.setState({\n      domains,\n      traceEachRequest,\n      alertOnError,\n      alertOnExceedQuota,\n      quota,\n      usePerformance,\n      keyboardEvents\n    });\n\n    // Listen to supervisor events.\n    this._httpSupervisor.on(SupervisorEvents.START, this._onStart);\n    this._httpSupervisor.on(SupervisorEvents.STOP, this._onStop);\n    this._httpSupervisor.on(SupervisorEvents.CLEAR, this._updateTotalRequestsCount);\n    this._httpSupervisor.on(SupervisorEvents.REQUEST_START, this._updateLabelsCount);\n    this._httpSupervisor.on(SupervisorEvents.REQUEST_START, this._updateTotalRequestsCount);\n    this._httpSupervisor.on(SupervisorEvents.REQUEST_END, this._updateLabelsCount);\n\n    // Listen to web component events.\n    this._el.subscribe('start', () => this._httpSupervisor.start());\n    this._el.subscribe('stop', () => this._httpSupervisor.stop());\n    this._el.subscribe('clear', () => this._httpSupervisor.clear());\n    this._el.subscribe('print', () => this._httpSupervisor.print());\n    this._el.subscribe('export', () => this._httpSupervisor.export());\n    this._el.subscribe('traceEachRequestChange', (ctrl) => this._httpSupervisor.traceEachRequest = ctrl.checked);\n    this._el.subscribe('alertOnErrorChange', (ctrl) => this._httpSupervisor.alertOnError = ctrl.checked);\n    this._el.subscribe('alertOnExceedQuotaChange', (ctrl) => this._httpSupervisor.alertOnExceedQuota = ctrl.checked);\n    this._el.subscribe('usePerformanceAPIChange', (ctrl) => this._httpSupervisor.usePerformance = ctrl.checked);\n    this._el.subscribe('maxPayloadSizeChange', (ctrl) => this._httpSupervisor.quota = { maxPayloadSize: parseInt(ctrl.value) });\n    this._el.subscribe('maxResponseSizeChange', (ctrl) => this._httpSupervisor.quota = { maxResponseSize: parseInt(ctrl.value) });\n    this._el.subscribe('maxDurationChange', (ctrl) => this._httpSupervisor.quota = { maxDuration: parseInt(ctrl.value) });\n    this._el.subscribe('responseSizeChart', () => this._httpSupervisor.displayResponseSizeChart());\n    this._el.subscribe('responseTimeChart', () => this._httpSupervisor.displayResponseTimeChart());\n    this._el.subscribe('responseSizeTimeChart', () => this._httpSupervisor.displaySizeTimeChart());\n    this._el.subscribe('responseSizeDistributionChart', () => this._httpSupervisor.displaySizeDistribution());\n    this._el.subscribe('domainsChange', (ctrl) => this._httpSupervisor.domains = ctrl.value.split(',').map(x => x.trim()));\n    this._el.subscribe('keyboardEventsChange', ctrl => this._httpSupervisor.keyboardEvents = ctrl.checked);\n  }\n\n  /**\n   * Shows the widget.\n   */\n  show() {\n    this._el.style.display = 'block';\n  }\n\n  /**\n   * Hides the widget.\n   */\n  hide() {\n    this._el.style.display = 'none';\n  }\n\n  /**\n   * Destroys the element.\n   */\n  destroy() {\n    this._httpSupervisor.off(SupervisorEvents.START, this._onStart);\n    this._httpSupervisor.off(SupervisorEvents.STOP, this._onStop);\n    this._httpSupervisor.off(SupervisorEvents.CLEAR, this._updateTotalRequestsCount);\n    this._httpSupervisor.off(SupervisorEvents.REQUEST_START, this._updateLabelsCount);\n    this._httpSupervisor.off(SupervisorEvents.REQUEST_START, this._updateTotalRequestsCount);\n    this._httpSupervisor.off(SupervisorEvents.REQUEST_END, this._updateLabelsCount);\n    this._httpSupervisor = null;\n    this._el.cleanup();\n    this._el.remove();\n    this._el = null;\n  }\n\n  /**\n   * Supervisor start handler.\n   */\n  _onStart() {\n    this._el.start();\n  }\n\n  /**\n   * Supervisor stop handler.\n   */\n  _onStop() {\n    this._el.stop();\n  }\n\n  /**\n   * Update the calls counter label.\n   */\n  _updateLabelsCount() {\n    this._el.updateCalls(this._httpSupervisor.onGoingCallsCount);\n  }\n\n  /**\n   * Update the total requests count.\n   */\n  _updateTotalRequestsCount() {\n    const count = this._httpSupervisor.totalRequests;\n\n    if (count > 0) {\n      this._el.logIsNotEmpty();\n    } else {\n      this._el.logIsEmpty();\n    }\n  }\n}\n\n/**\n * Supervisor Controls Panel Web Component.\n */\nclass HtmlSupervisorWidgetElement extends HTMLElement {\n\n  // Panel Controls\n  _startButton = null;\n  _stopButton = null;\n  _clearButton = null;\n  _printButton = null;\n  _exportButton = null;\n  _moreButton = null;\n  _callsCountLabel = null;\n\n  // Popover Controls\n  _popover = null;\n  _popoverClose = null;\n  _overlay = null;\n  _traceEachRequestCheckbox = null;\n  _alertOnErrorCheckbox = null;\n  _alertOnQuotaExceedCheckbox = null;\n  _usePerformanceAPICheckbox = null;\n  _maxPayloadSizeTextbox = null;\n  _maxResponseSizeTextbox = null;\n  _maxDurationTextbox = null;\n  _responseSizeChartButton = null;\n  _responseTimeChartButton = null;\n  _responseSizeTimeChartButton = null;\n  _responseSizeDistributionChartButton = null;\n  _domainsTextbox = null;\n  _keyboardEventsCheckbox = null;\n  _expandButton = null;\n  _collapisbleFieldSet = null;\n\n  constructor() {\n    super();\n\n    this._handleKeyPress = this._handleKeyPress.bind(this);\n\n    const shadowRoot = this.attachShadow({ mode: 'closed' });\n    shadowRoot.appendChild(template.content.cloneNode(true));\n    this._popover = shadowRoot.querySelector('.popover-content');\n\n    [\n      this._startButton,\n      this._stopButton,\n      this._clearButton,\n      this._printButton,\n      this._exportButton,\n      this._callsCountLabel,\n      this._moreButton,\n      this._traceEachRequestCheckbox,\n      this._alertOnErrorCheckbox,\n      this._alertOnQuotaExceedCheckbox,\n      this._usePerformanceAPICheckbox,\n      this._maxPayloadSizeTextbox,\n      this._maxResponseSizeTextbox,\n      this._maxDurationTextbox,\n      this._responseSizeChartButton,\n      this._responseTimeChartButton,\n      this._responseSizeTimeChartButton,\n      this._responseSizeDistributionChartButton,\n      this._domainsTextbox,\n      this._keyboardEventsCheckbox\n    ] = [\n      ...Array.from(shadowRoot.querySelector('.http-supervisor-container').children),\n      ...Array.from(this._popover.querySelectorAll('input,button'))\n    ];\n\n    this._eventsAndControls = {\n      start: this._startButton,\n      stop: this._stopButton,\n      clear: this._clearButton,\n      print: this._printButton,\n      export: this._exportButton,\n      traceEachRequestChange: this._traceEachRequestCheckbox,\n      alertOnErrorChange: this._alertOnErrorCheckbox,\n      alertOnExceedQuotaChange: this._alertOnQuotaExceedCheckbox,\n      usePerformanceAPIChange: this._usePerformanceAPICheckbox,\n      maxPayloadSizeChange: this._maxPayloadSizeTextbox,\n      maxResponseSizeChange: this._maxResponseSizeTextbox,\n      maxDurationChange: this._maxDurationTextbox,\n      responseSizeChart: this._responseSizeChartButton,\n      responseTimeChart: this._responseTimeChartButton,\n      responseSizeTimeChart: this._responseSizeTimeChartButton,\n      responseSizeDistributionChart: this._responseSizeDistributionChartButton,\n      domainsChange: this._domainsTextbox,\n      keyboardEventsChange: this._keyboardEventsCheckbox\n    };\n\n    this._expandButton = shadowRoot.querySelector('.expand');\n    this._collapseButton = shadowRoot.querySelector('.collapse');\n    this._collapisbleFieldSet = shadowRoot.querySelector('.fourth');\n    this._popoverClose = shadowRoot.querySelector('.popover-close');\n    this._overlay = shadowRoot.querySelector('.popover-overlay');\n\n    this._moreButton.addEventListener('click', () => this._isPopoverActive() ? this._hidePopover() : this._showPopover());\n\n    this._expandButton.addEventListener('click', () => {\n      this._collapisbleFieldSet.classList.add('active');\n      this._expandButton.style.display = 'none';\n      this._collapseButton.style.display = 'block';\n    });\n\n    this._collapseButton.addEventListener('click', () => {\n      this._collapisbleFieldSet.classList.remove('active');\n      this._expandButton.style.display = 'block';\n      this._collapseButton.style.display = 'none';\n    });\n\n    this._popoverClose.addEventListener('click', e => {\n      e.preventDefault();\n      e.stopPropagation();\n      this._hidePopover();\n    });\n\n    this._overlay.addEventListener('click', () => this._hidePopover());\n    this._keyboardEventsCheckbox.addEventListener('change', () => {\n      if (this._keyboardEventsCheckbox.checked) {\n        this._listenToKeyPressEvent();\n      } else {\n        this._unlistenToKeyPressEvent();\n      }\n    });\n  }\n\n  setState({\n    domains,\n    traceEachRequest,\n    alertOnError,\n    alertOnExceedQuota,\n    quota,\n    usePerformance,\n    keyboardEvents\n  }) {\n    Array.isArray(domains) && (this._domainsTextbox.value = domains.join(','));\n    this._traceEachRequestCheckbox.checked = traceEachRequest;\n    this._alertOnErrorCheckbox.checked = alertOnError;\n    this._alertOnQuotaExceedCheckbox.checked = alertOnExceedQuota;\n    this._maxPayloadSizeTextbox.value = quota.maxPayloadSize;\n    this._maxResponseSizeTextbox.value = quota.maxResponseSize;\n    this._maxDurationTextbox.value = quota.maxDuration;\n    this._usePerformanceAPICheckbox.checked = usePerformance;\n    this._keyboardEventsCheckbox.checked = keyboardEvents;\n    keyboardEvents && this._listenToKeyPressEvent();\n  }\n\n  subscribe(evt, handler) {\n    const ctrl = this._eventsAndControls[evt],\n      evtName = ctrl instanceof HTMLButtonElement ? 'click' : 'change';\n\n    ctrl.addEventListener(evtName, (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      handler(ctrl, this);\n    });\n  }\n\n  start() {\n    this._startButton.style.display = 'none';\n    this._stopButton.style.display = 'flex';\n  }\n\n  stop() {\n    this._startButton.style.display = 'flex';\n    this._stopButton.style.display = 'none';\n  }\n\n  updateCalls(count) {\n    this._callsCountLabel.innerText = count.toString();\n  }\n\n  logIsEmpty() {\n    [this._clearButton, this._printButton, this._exportButton].forEach(b => b.disabled = true);\n  }\n\n  logIsNotEmpty() {\n    [this._clearButton, this._printButton, this._exportButton].forEach(b => b.disabled = false);\n  }\n\n  cleanup() {\n    this._unlistenToKeyPressEvent();\n  }\n\n  _isPopoverActive() {\n    return this._popover.classList.contains('active');\n  }\n\n  _showPopover() {\n    [this._popover, this._overlay].forEach(el => el.classList.add('active'));\n  }\n\n  _hidePopover() {\n    [this._popover, this._overlay].forEach(el => el.classList.remove('active'));\n  }\n\n  _listenToKeyPressEvent() {\n    document.addEventListener('keydown', this._handleKeyPress);\n  }\n\n  _unlistenToKeyPressEvent() {\n    document.removeEventListener('keydown', this._handleKeyPress);\n  }\n\n  _handleKeyPress(event) {\n    if (event.ctrlKey) {\n      if (event.key === 's') {\n        if (this._startButton.style.display === 'none') {\n          this._stopButton.click();\n        } else {\n          this._startButton.click();\n        }\n      } else if (event.key === 'c') {\n        this._clearButton.click();\n      } else if (event.key === 'p') {\n        this._printButton.click();\n      } else if (event.key === 'e') {\n        this._exportButton.click();\n      } else if (event.key === 'm') {\n        if (this._isPopoverActive()) {\n          this._hidePopover();\n        } else {\n          this._showPopover();\n        }\n      } else if (event.key === 't') {\n        if (this.style.display === 'none') {\n          this.style.display = 'block';\n        } else {\n          this.style.display = 'none';\n        }\n      }\n\n      return;\n    }\n\n    if (event.key.toUpperCase() === 'ESCAPE' || event.key.toUpperCase() === 'ESC') {\n      this._hidePopover();\n    }\n  }\n}\n\nwindow.customElements.define('http-supervisor-widget', HtmlSupervisorWidgetElement);\n","import HttpRequestInfo                         from './http-request-info';\nimport Collection                              from './collection';\nimport { formatBytes, formatTime, poolColors } from './util';\nimport { Messages, Colors }                    from './constants';\nimport './console-snapshot';\n\n/**\n * Class that is responsible for displaying the requests info to console.\n */\nexport default class ConsoleReporter {\n\n  /**\n   * Fields to display.\n   * @type {Map}\n   * @private\n   */\n  _fieldsToDisplay = null;\n\n  /**\n   * True to visualize data through charts.\n   * @type {boolean}\n   * @private\n   */\n  _useVisualization = true;\n\n  /**\n   * Canvas element used for chart generation.\n   * @type {HTMLCanvasElement}\n   * @private\n   */\n  _canvasEl = null;\n\n  /**\n   * The chart font size.\n   * @type {number}\n   * @private\n   */\n  _chartFontSize = 9;\n\n  /**\n   * Chart height.\n   * @type {number}\n   * @private\n   */\n  _chartHeight = 300;\n\n  /**\n   * Chart width.\n   * @type {number}\n   * @private\n   */\n  _chartWidth = 500;\n\n  /**\n   * Ctor.\n   * @param {Object} fieldsConfig\n   */\n  constructor(fieldsConfig) {\n    fieldsConfig && (this._fieldsToDisplay = new Map(Object.entries(fieldsConfig)));\n  }\n\n  /**\n   * Does initialization stuff.\n   * @param {HttpSupervisor} httpSupervisor\n   */\n  init(httpSupervisor) {\n    this._useVisualization = !!(httpSupervisor.useVisualization && window.Chart);\n\n    if (!this._useVisualization) {\n      return;\n    }\n\n    window.Chart && (window.Chart.defaults.font.size = this._chartFontSize);\n\n    this._canvasEl = document.createElement('canvas');\n    this._canvasEl.style.width = `${this._chartWidth}px`;\n    this._canvasEl.style.height = `${this._chartHeight}px`;\n    this._canvasEl.style.display = 'none';\n\n    document.body.appendChild(this._canvasEl);\n  }\n\n  printStatusMessage(message) {\n    this.print(message, Colors.BRAND, true);\n  }\n\n  /**\n   * Prints the metrics summary and the requests information in console.\n   * @param statsOrObj\n   * @param collection\n   */\n  report(statsOrObj, collection) {\n    if (arguments.length === 1) {\n      if (statsOrObj === null) {\n        this.print(Messages.NO_REQUEST, Colors.INFO, true);\n        return;\n      } else if (statsOrObj instanceof HttpRequestInfo || statsOrObj instanceof Collection) {\n        if (statsOrObj instanceof Collection && !statsOrObj.hasGroups && !statsOrObj.hasItems) {\n          this.print(Messages.NO_REQUESTS, Colors.INFO, true);\n          return;\n        }\n\n        statsOrObj instanceof Collection && this.printTitle(Messages.REQUESTS_INFO);\n        this._reportObject(statsOrObj);\n      } else {\n        this.printTitle(Messages.METRICS_SUMMARY);\n        this._reportStats(statsOrObj);\n      }\n\n      return;\n    }\n\n    if (!collection.hasGroups && !collection.hasItems) {\n      this.print(Messages.NO_REQUESTS, Colors.INFO, true);\n      return;\n    }\n\n    this.printTitle(Messages.METRICS_SUMMARY);\n    this._reportStats(statsOrObj);\n    this.break();\n    this.printTitle(Messages.REQUESTS_INFO);\n    this._reportObject(collection);\n  }\n\n  /**\n   * Create chart in canvans and render in console.\n   * @param chartOptions\n   */\n  visualize(chartOptions) {\n    if (!this._useVisualization) {\n      this.print(Messages.CHART_NOT_FOUND, Colors.ERROR, true);\n      return;\n    }\n\n    const {\n      type,\n      title,\n      labels,\n      data,\n      format\n    } = chartOptions;\n\n    const ctx = this._canvasEl.getContext('2d');\n    let myChart;\n\n    if (type === 'bar') {\n      myChart = new Chart(ctx, {\n        type: type,\n        data: {\n          labels: labels,\n          datasets: [{\n            label: title,\n            data: data,\n            backgroundColor: poolColors(data.length),\n            borderColor: poolColors(data.length),\n            borderWidth: 1\n          }]\n        },\n        options: {\n          responsive: false,\n          scales: {\n            y: {\n              beginAtZero: true,\n              ticks: {\n                callback: function(value) {\n                  return format ? format(value): value;\n                }\n              }\n            }\n          }\n        }\n      });\n    } else if (type === 'bubble') {\n      myChart = new Chart(ctx, {\n        type: 'bubble',\n        data: {\n          datasets: [{\n            label: title,\n            data: data\n          }]\n        },\n        options: {\n          responsive: false,\n          aspectRatio: 1,\n          plugins: {\n            legend: false,\n            tooltip: false,\n          },\n          elements: {\n            point: {\n              backgroundColor: this._colorize.bind(this, false),\n              borderColor: this._colorize.bind(this, true),\n              borderWidth: function(context) {\n                return Math.min(Math.max(1, context.datasetIndex + 1), 8);\n              },\n              radius: function(context) {\n                const size = context.chart.width;\n                const base = Math.abs(context.raw.v) / 1000;\n                return (size / 24) * base;\n              }\n            }\n          },\n          scales: {\n            y: {\n              beginAtZero: true,\n              ticks: {\n                callback: function(value) {\n                  return format ? format(value): value;\n                }\n              }\n            }\n          }\n        }\n      });\n    } else if (type === 'pie') {\n      myChart = new Chart(ctx, {\n        type: 'pie',\n        data: {\n          labels: labels,\n          datasets: [{\n            label: 'Dataset 1',\n            data: data,\n            backgroundColor: poolColors(data.length)\n          }]\n        },\n        options: {\n          responsive: false,\n          plugins: {\n            legend: {\n              position: 'top',\n            },\n            title: {\n              display: true,\n              text: title\n            }\n          }\n        }\n      });\n    }\n\n    if (!myChart) {\n      return;\n    }\n\n    setTimeout(() => {\n      console.screenshot(this._canvasEl, .5, .35);\n      myChart.destroy();\n      myChart = null;\n    }, 500);\n  }\n\n  /**\n   * Prints success message.\n   * @param message\n   */\n  success(message) {\n    this.print(message, Colors.SUCCESS);\n  }\n\n  /**\n   * Prints error message.\n   * @param message\n   */\n  error(message) {\n    this.print(message, Colors.ERROR);\n  }\n\n  /**\n   * Prints info message.\n   * @param message\n   */\n  info(message) {\n    this.print(message, Colors.INFO);\n  }\n\n  /**\n   * Prints warning message.\n   * @param message\n   */\n  warn(message) {\n    this.print(message, Colors.WARN);\n  }\n\n  /**\n   * Prints message with the passed color and styles.\n   * @param message\n   * @param color\n   * @param bold\n   * @param otherStyles\n   */\n  print(message, color, bold = false, otherStyles) {\n    const styles = [`color: ${color}`];\n    bold && styles.push(`font-weight: bold`);\n    otherStyles && styles.push(otherStyles);\n    console.log(`%c${message}`, styles.join(';'));\n  }\n\n  /**\n   * Prints section title.\n   * @param message\n   */\n  printTitle(message, bgColor = Colors.GRAY) {\n    this.print(message, Colors.INFO, true, `padding: 5px 250px; background-color: ${bgColor}; color: ${Colors.WHITE};margin-bottom: 10px;`);\n  }\n\n  /**\n   * Prints row.\n   * @param message\n   */\n  printRow(message) {\n    this.print(message, Colors.INFO);\n  }\n\n  /**\n   * Prints field name and value.\n   * @param head\n   * @param value\n   */\n  printKeyValue(head, value) {\n    if (value !== null && typeof value === 'object') {\n      console.log(`%c${this._getTitleWithSpaces(head)}:`, `font-weight: bold; color: ${Colors.INFO}`, value);\n      return;\n    }\n\n    console.log(`%c${this._getTitleWithSpaces(head)}: %c${value}`, `font-weight: bold; color: ${Colors.INFO}`, `color: ${Colors.INFO};`);\n  }\n\n  /**\n   * Prints many fields and values in single row.\n   * @param obj\n   */\n  printKeyValueMany(obj) {\n    let msgs = [];\n    let styles = [];\n    Object.entries(obj).forEach(([title, value], index) => {\n      msgs.push(`%c${index === 0 ? this._getTitleWithSpaces(title) : title}: %c${value}`);\n      styles.push(`font-weight: bold; color: ${Colors.INFO}`, `color: ${Colors.INFO};`);\n      index < Object.keys(obj).length - 1 && styles.push(`color: ${Colors.MEDIUM_GRAY}`);\n    });\n\n    console.log(msgs.join('%c | '), ...styles);\n  }\n\n  /**\n   * Prints multiple messages.\n   * @param messages\n   */\n  printMultiple(...messages) {\n    console.log(...messages);\n  }\n\n  /**\n   * Prints table.\n   * @param array\n   * @param displayFields\n   */\n  table(array, displayFields) {\n    array.length && console.table(array, displayFields);\n  }\n\n  /**\n   * Starts a group.\n   * @param group\n   * @param args\n   */\n  groupStart(group, ...args) {\n    console.group(group, ...args);\n  }\n\n  /**\n   * Ends the active group.\n   */\n  groupEnd() {\n    console.groupEnd();\n  }\n\n  /**\n   * Clears the console.\n   */\n  clear() {\n    console.clear();\n  }\n\n  /**\n   * Creates empty line.\n   */\n  break() {\n    console.log(`\\n`);\n  }\n\n  destroy() {\n    this._canvasEl.remove();\n    this._canvasEl = null;\n  }\n\n  _getTitleWithSpaces(title) {\n    return `${title}${Array(30 - title.length).fill(' ').join('')}`;\n  }\n\n  _reportStats({\n                 totalRequests,\n                 getRequestsCount,\n                 postRequestsCount,\n                 putRequestsCount,\n                 deleteRequestsCount,\n                 failedRequests,\n                 requestsExceededQuota,\n                 maxPayloadSize,\n                 maxResponseSize,\n                 maxDuration,\n                 totalPayloadSize,\n                 totalResponseSize\n               }) {\n    this.printKeyValueMany({\n      [Messages.TOTAL_REQUESTS]: totalRequests,\n      GET: getRequestsCount,\n      POST: postRequestsCount,\n      PUT: putRequestsCount,\n      DELETE: deleteRequestsCount\n    });\n    this.printKeyValue(Messages.FAILED_REQUESTS, failedRequests);\n    this.printKeyValue(Messages.REQUESTS_EXCEEDED_QUOTA, requestsExceededQuota);\n    this.printKeyValue(Messages.MAX_PAYLOAD_SIZE, formatBytes(maxPayloadSize));\n    this.printKeyValue(Messages.MAX_RESPONSE_SIZE, formatBytes(maxResponseSize));\n    this.printKeyValue(Messages.MAX_DURATION, formatTime(maxDuration));\n    this.printKeyValue(Messages.TOTAL_PAYLOAD_SIZE, formatBytes(totalPayloadSize));\n    this.printKeyValue(Messages.TOTAL_RESPONSE_SIZE, formatBytes(totalResponseSize));\n  }\n\n  _reportObject(requestOrCollection) {\n    if (requestOrCollection === null) {\n      this.print(Messages.NO_REQUEST, Colors.INFO, true);\n      return;\n    }\n\n    if (requestOrCollection instanceof HttpRequestInfo) {\n      let bgColor = Colors.GRAY;\n      if (requestOrCollection.error) {\n        bgColor = '#ff6e92';\n      } else if (requestOrCollection.exceedsQuota) {\n        bgColor = '#edca6b';\n      }\n\n      console.groupCollapsed(`%c${requestOrCollection.method}  ${requestOrCollection.path} | ${requestOrCollection.responseStatus} | ${formatBytes(requestOrCollection.responseSize)} | ${formatTime(requestOrCollection.duration)}`, `padding: 5px 10px; background-color: ${bgColor}; color: ${Colors.WHITE};margin-bottom: 10px;`);\n      this.printKeyValue(Messages.ID, requestOrCollection.id);\n      this.printKeyValue(Messages.URL, requestOrCollection.url);\n      this.printKeyValue(Messages.PATH, requestOrCollection.path);\n      this.printKeyValue(Messages.METHOD, requestOrCollection.method);\n      this.printKeyValue(Messages.PAYLOAD, requestOrCollection.payload || '-');\n      this.printKeyValue(Messages.PAYLOAD_SIZE, formatBytes(requestOrCollection.payloadSize));\n      this.printKeyValue(Messages.DURATION, formatTime(requestOrCollection.duration));\n      this.printKeyValue(Messages.RESPONSE, requestOrCollection.response || '-');\n      this.printKeyValue(Messages.RESPONSE_SIZE, formatBytes(requestOrCollection.responseSize));\n      this.printKeyValue(Messages.RESPONSE_STATUS, requestOrCollection.responseStatus);\n      this.printKeyValue(Messages.IS_ERROR, requestOrCollection.error ? 'Yes' : 'No');\n      this.printKeyValue(Messages.ERROR_DESC, requestOrCollection.errorDescription || '-');\n      this.printKeyValue(Messages.EXCEEDS_QUOTA, requestOrCollection.exceedsQuota ? 'Yes' : 'No');\n      this.printKeyValue(Messages.INITIATOR_TYPE, requestOrCollection.initiatorType);\n      this.printKeyValue(Messages.PAYLOAD_SIZE_BY_PERFORMANCE, requestOrCollection.payloadByPerformance ? 'Yes' : 'No');\n      console.groupEnd();\n      return;\n    }\n\n    if (!requestOrCollection.hasItems && !requestOrCollection.hasGroups) {\n      return;\n    }\n\n    if (requestOrCollection.hasGroups) {\n      requestOrCollection.groups.forEach(group => {\n        const { name, groupedBy, items } = group;\n\n        if (typeof name === 'undefined') {\n          this.groupStart(`- %c[${items.length}]`, `font-size: 0.6rem; color: ${Colors.GRAY};`);\n        } else if (name !== null && typeof name === 'object') {\n          this.groupStart(`${groupedBy}: %c[${items.length}]`, `font-size: 0.6rem; color: ${Colors.GRAY};`, name);\n        } else {\n          let groupName = name;\n\n          if (typeof name === 'number') {\n            if (['payloadSize', 'responseSize'].indexOf(groupedBy) > -1) {\n              groupName = formatBytes(name);\n            } else if (groupedBy === 'duration') {\n              groupName = formatTime(name);\n            }\n          }\n\n          this.groupStart(`${groupName} %c- [${items.length}]`, `font-size: 0.6rem; color: ${Colors.GRAY};`);\n        }\n\n        this._reportObject(group);\n        this.groupEnd();\n      });\n\n      return;\n    }\n\n    const items = requestOrCollection.items.map(item => {\n      const displayObj = {};\n      this._fieldsToDisplay.forEach((value, key) => {\n        let v;\n        if (typeof item[key] === 'undefined') {\n          v = null;\n        } else {\n          v = item[key];\n        }\n        displayObj[value] = v;\n      });\n      return displayObj;\n    });\n\n    this.table(items);\n  }\n\n  _colorize(opaque, context) {\n    const value = context.raw;\n    const x = value.x / 100;\n    const y = value.y / 100;\n    const r = this._channelValue(x, y, [250, 150, 50, 0]);\n    const g = this._channelValue(x, y, [0, 50, 150, 250]);\n    const b = this._channelValue(x, y, [0, 150, 150, 250]);\n    const a = opaque ? 1 : 0.5 * value.v / 1000;\n\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  }\n\n  _channelValue(x, y, values) {\n    return x < 0 && y < 0 ? values[0] : x < 0 ? values[1] : y < 0 ? values[2] : values[3];\n  }\n}\n","import './polyfill';\nimport HttpSupervisor       from './http-supervisor';\nimport HttpSupervisorWidget from './http-supervisor-widget';\nimport ConsoleReporter      from './console-reporter';\n\nconst httpSupervisor = new HttpSupervisor(new HttpSupervisorWidget(), new ConsoleReporter({\n  id: 'Request No',\n  url: 'URL',\n  path: 'Path',\n  method: 'Type',\n  payload: 'Payload',\n  payloadSize: 'Payload Size (bytes)',\n  duration: 'Duration (ms)',\n  responseStatus: 'Status',\n  response: 'Response',\n  responseSize: 'Size (bytes)',\n  error: 'Is Error?',\n  errorDescription: 'Error Description',\n  exceedsQuota: 'Exceeds Quota?'\n}));\n\nexport default httpSupervisor;\nexport { HttpSupervisor };\n"],"sourceRoot":""}