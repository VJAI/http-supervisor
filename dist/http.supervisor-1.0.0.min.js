!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.httpSupervisor=e():t.httpSupervisor=e()}(window,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var o=n(2);t.exports=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var o=n(9),r=n(10),i=n(1),s=n(11);t.exports=function(t,e){return o(t)||r(t,e)||i(t,e)||s()},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var o=n(12),r=n(13),i=n(1),s=n(14);t.exports=function(t){return o(t)||r(t)||i(t)||s()},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";n.r(e);var o=n(3),r=n.n(o),i=n(4),s=n.n(i),u=n(5),l=n.n(u),a=n(6),c=n.n(a),p=n(7),d=n.n(p),f=n(0),h=n.n(f),y=new(function(){function t(){c()(this,t),h()(this,"_domains",null),h()(this,"_requests",[]),h()(this,"_status","idle"),h()(this,"_idCount",0),h()(this,"_callsCount",0),h()(this,"_nativeOpen",XMLHttpRequest.prototype.open),h()(this,"_nativeSend",XMLHttpRequest.prototype.send),h()(this,"_container",null),h()(this,"_startButton",null),h()(this,"_stopButton",null),h()(this,"_clearButton",null),h()(this,"_printButton",null),h()(this,"_callsCountLabel",null)}return d()(t,[{key:"busy",get:function(){return"busy"===this._status}},{key:"init",value:function(t){if(console.log("%c 💂‍ HTTP SUPERVISOR STARTED 💂‍","color: green; font-weight: bold;"),"object"===l()(t)){var e=t.domains;Array.isArray(e)&&(this._domains=e)}this._renderUI();var n=this._open.bind(this),o=this._send.bind(this);XMLHttpRequest.prototype.open=function(){n.apply(void 0,[this].concat(Array.prototype.slice.call(arguments)))},XMLHttpRequest.prototype.send=function(){o.apply(void 0,[this].concat(Array.prototype.slice.call(arguments)))},this.start()}},{key:"start",value:function(){this._status="busy",this._startButton.disabled=!0,this._stopButton.disabled=!1}},{key:"stop",value:function(){this._status="idle",this._startButton.disabled=!1,this._stopButton.disabled=!0}},{key:"clear",value:function(){console.clear(),this._requests=[]}},{key:"print",value:function(){var t=this;if(0!==this._requests.length){var e={},n=s()(new Set(this._requests.map((function(t){return t.path}))));for(var o in n.forEach((function(n){e[n]={GET:t._getRequests(n,"GET"),POST:t._getRequests(n,"POST"),PUT:t._getRequests(n,"PUT"),DELETE:t._getRequests(n,"DELETE")}})),console.log("%c ------------------------ LOG STARTS ------------------------","color: green; font-weight: bold;"),console.group("General Observation"),console.log("Total Requests: ".concat(this._requests.length)),console.groupEnd(),e){var r=e[o];Object.values(r.GET).find((function(t){return t.length>1}))||Object.values(r.POST).find((function(t){return t.length>1}))||Object.values(r.PUT).find((function(t){return t.length>1}))||Object.values(r.DELETE).find((function(t){return t.length>1}))?console.group("%c ".concat(o),"color:red;"):console.group(o),this._logGroup("GET",r.GET),this._logGroup("POST",r.POST),this._logGroup("PUT",r.PUT),this._logGroup("DELETE",r.DELETE),console.groupEnd()}console.log("%c ------------------------ LOG ENDS ------------------------","color: green; font-weight: bold;")}else console.log("Log is empty!")}},{key:"_renderUI",value:function(){var t=this,e=document.createRange().createContextualFragment('<div id="http-supervisor" style="position: fixed;z-index: 20000;top: 0;right: 0;text-align: center;display: flex;width: 100%;justify-content: center;align-items:center;">\n                                          <button id="start">\n                                            Start\n                                          </button>\n                                          <button id="stop">\n                                            Stop\n                                          </button>\n                                          <button id="clear">\n                                            Clear\n                                          </button>\n                                          <button id="print">\n                                            Print\n                                          </button>\n                                          <span id="calls-count" style="width: 20px;">\n                                            0\n                                          <span>\n                                    </div>');document.body.appendChild(e);var n=document.querySelector.bind(document);this._container=n("#http-supervisor"),this._startButton=n("#start"),this._stopButton=n("#stop"),this._clearButton=n("#clear"),this._printButton=n("#print"),this._callsCountLabel=n("#calls-count"),this._startButton.addEventListener("click",(function(){return t.start()})),this._stopButton.addEventListener("click",(function(){return t.stop()})),this._clearButton.addEventListener("click",(function(){return t.clear()})),this._printButton.addEventListener("click",(function(){return t.print()}))}},{key:"_open",value:function(){var t;if(this.busy){var e=Array.prototype.slice.call(arguments),n=e[0],o=e[1],r=e[2];n.id=this._id(),n.method=o,n.url=r,[].shift.apply(arguments),(t=this._nativeOpen).call.apply(t,[n].concat(Array.prototype.slice.call(arguments)))}}},{key:"_send",value:function(){var t,e=this;if(this.busy){var n=Array.prototype.slice.call(arguments),o=n[0],r=n[1],i=new URL(o.url);if(Array.isArray(this._domains)&&-1===this._domains.indexOf(i.origin)){var s;(s=this._nativeSend).call.apply(s,arguments)}else{this._increment();var u={id:o.id,url:o.url,path:i.pathname,method:o.method,payload:r,timeStart:Date.now(),timeEnd:null,error:!1};this._requests.push(u);var l=function(){e._decrement()},a=function(){l(),u.timeEnd=Date.now()},c=function(){l(),u.error=!0,u.timeEnd=Date.now()},p=function(){l(),u.error=!0,u.timeEnd=Date.now()},d=function(){l(),u.error=!0,u.timeEnd=Date.now()};o.addEventListener("loadend",a),o.addEventListener("abort",c),o.addEventListener("error",p),o.addEventListener("timeout",d);[].shift.apply(arguments);(t=this._nativeSend).call.apply(t,[o].concat(Array.prototype.slice.call(arguments)))}}}},{key:"_id",value:function(){return"REQ-COUNT-".concat(this._idCount++)}},{key:"_increment",value:function(){this._callsCount++,this._updateCallsLabel()}},{key:"_decrement",value:function(){0!==this._callsCount&&(this._callsCount--,this._updateCallsLabel())}},{key:"_updateCallsLabel",value:function(){this._callsCountLabel.innerText=this._callsCount.toString()}},{key:"_getRequests",value:function(t,e){var n={};return this._requests.filter((function(n){return n.path===t&&n.method===e})).forEach((function(t){var e=t.payload;n[e=e||"empty"]||(n[e]=[]),n[e].push(t)})),n}},{key:"_logGroup",value:function(t,e){if(Object.keys(e).length){Object.values(e).find((function(t){return t.length>1}))?console.group("%c ".concat(t),"color:red;"):console.group(t);var n=Object.keys(e).length>1;Object.entries(e).forEach((function(t){var e=r()(t,2),o=e[0],i=e[1],s=o.length>50?"".concat(o.substring(0,50),"... }"):o;n&&(i.length>1?console.group("%c paylod: ".concat(s),"color: red;"):console.group("paylod: ".concat(s))),i.forEach((function(t){var e=(t.timeEnd-t.timeStart)/1e3;t.duration="".concat(e," s"),delete t.timeStart,delete t.timeEnd})),console.table(i),n&&console.groupEnd()})),console.groupEnd()}}}]),t}());e.default=y},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,r=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var o=n(2);t.exports=function(t){if(Array.isArray(t))return o(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0}])}));
//# sourceMappingURL=http.supervisor-1.0.0.min.js.map